%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                           %
% Copyright (C) 2011 Weil Cornell Medical College           %
%                                                           %
%  Author: Pascal Spincemaille                              %
%                                                           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function [t, outpos] = gehdr_reader15M3(chr, inpos, type, count)
  [t, outpos] = eval(['read_' type '(chr, inpos, count);']);

function [t, outpos] = read_int(chr, inpos, count)
  outpos = inpos + count*4;
  t = mytypecast(chr(inpos:outpos-1), 'int32');

function [t, outpos] = read_int32_t(chr, inpos, count)
  outpos = inpos + count*4;
  t = mytypecast(chr(inpos:outpos-1), 'int32');

function [t, outpos] = read_long_long_int(chr, inpos, count)
  outpos = inpos + count*8;
  t = mytypecast(chr(inpos:outpos-1), 'int64');

function [t, outpos] = read_unsigned_char(chr, inpos, count)
  outpos = inpos + count*1;
  t = mytypecast(chr(inpos:outpos-1), 'uchar');

function [t, outpos] = read_signed_char(chr, inpos, count)
  outpos = inpos + count*1;
  t = mytypecast(chr(inpos:outpos-1), 'schar');

function [t, outpos] = read_double(chr, inpos, count)
  outpos = inpos + count*8;
  t = mytypecast(chr(inpos:outpos-1), 'float64');

function [t, outpos] = read_short(chr, inpos, count)
  outpos = inpos + count*2;
  t = mytypecast(chr(inpos:outpos-1), 'int16');

function [t, outpos] = read_float(chr, inpos, count)
  outpos = inpos + count*4;
  t = mytypecast(chr(inpos:outpos-1), 'float32');

function [t, outpos] = read_unsigned_long_long_int(chr, inpos, count)
  outpos = inpos + count*8;
  t = mytypecast(chr(inpos:outpos-1), 'uint64');

function [t, outpos] = read_long(chr, inpos, count)
  outpos = inpos + count*4;
  t = mytypecast(chr(inpos:outpos-1), 'int32');

function [t, outpos] = read_unsigned_long_int(chr, inpos, count)
  outpos = inpos + count*4;
  t = mytypecast(chr(inpos:outpos-1), 'uint32');

function [t, outpos] = read_unsigned_short(chr, inpos, count)
  outpos = inpos + count*2;
  t = mytypecast(chr(inpos:outpos-1), 'uint16');

function [t, outpos] = read_unsigned_long(chr, inpos, count)
  outpos = inpos + count*4;
  t = mytypecast(chr(inpos:outpos-1), 'uint32');

function [t, outpos] = read_long_int(chr, inpos, count)
  outpos = inpos + count*4;
  t = mytypecast(chr(inpos:outpos-1), 'int32');

function [t, outpos] = read_int16_t(chr, inpos, count)
  outpos = inpos + count*2;
  t = mytypecast(chr(inpos:outpos-1), 'int16');

function [t, outpos] = read_unsigned_int(chr, inpos, count)
  outpos = inpos + count*4;
  t = mytypecast(chr(inpos:outpos-1), 'uint32');

function [t, outpos] = read_unsigned_short_int(chr, inpos, count)
  outpos = inpos + count*2;
  t = mytypecast(chr(inpos:outpos-1), 'uint16');

function [t, outpos] = read_u_int16_t(chr, inpos, count)
  outpos = inpos + count*2;
  t = mytypecast(chr(inpos:outpos-1), 'uint16');

function [t, outpos] = read_char(chr, inpos, count)
  outpos = inpos + count*1;
  t = char(chr(inpos:outpos-1))';

function [t, outpos] = read_signed_short_int(chr, inpos, count)
  outpos = inpos + count*2;
  t = mytypecast(chr(inpos:outpos-1), 'int16');

function [t, outpos] = read_u_int32_t(chr, inpos, count)
  outpos = inpos + count*4;
  t = mytypecast(chr(inpos:outpos-1), 'uint32');

function [t, outpos] = read_short_int(chr, inpos, count)
  outpos = inpos + count*2;
  t = mytypecast(chr(inpos:outpos-1), 'int16');

function [t, outpos] = read_signed_int(chr, inpos, count)
  outpos = inpos + count*4;
  t = mytypecast(chr(inpos:outpos-1), 'int32');

function [t, outpos] = read_size_t(chr, inpos, count)
  [t, outpos] = read_unsigned_int(chr, inpos, count);

function [t, outpos] = read_ulong(chr, inpos, count)
  [t, outpos] = read_unsigned_long_int(chr, inpos, count);

function [t, outpos] = read_ushort(chr, inpos, count)
  [t, outpos] = read_unsigned_short_int(chr, inpos, count);

function [t, outpos] = read_uint(chr, inpos, count)
  [t, outpos] = read_unsigned_int(chr, inpos, count);

function [t, outpos] = read_struct_timespec(chr, inpos, count)
  outpos = inpos + 8 * count;
  chr2=reshape(chr(inpos:inpos+count*8-1), 8, []);
  t.tv_nsec = read_long_int(chr2(5:8,:), 1, count);

function [t, outpos] = read_s8(chr, inpos, count)
  [t, outpos] = read_char(chr, inpos, count);

function [t, outpos] = read_n8(chr, inpos, count)
  [t, outpos] = read_unsigned_char(chr, inpos, count);

function [t, outpos] = read_s16(chr, inpos, count)
  [t, outpos] = read_int16_t(chr, inpos, count);

function [t, outpos] = read_n16(chr, inpos, count)
  [t, outpos] = read_u_int16_t(chr, inpos, count);

function [t, outpos] = read_s32(chr, inpos, count)
  [t, outpos] = read_long(chr, inpos, count);

function [t, outpos] = read_n32(chr, inpos, count)
  [t, outpos] = read_unsigned_long(chr, inpos, count);

function [t, outpos] = read_f32(chr, inpos, count)
  [t, outpos] = read_float(chr, inpos, count);

function [t, outpos] = read_f64(chr, inpos, count)
  [t, outpos] = read_double(chr, inpos, count);

function [t, outpos] = read_TD_MR_CFG(chr, inpos, count)
  outpos = inpos + 220 * count;
  chr2=reshape(chr(inpos:inpos+count*220-1), 220, []);
  t.fileFormatRev = read_int(chr2(1:4,:), 1, count);
  t.researchSite = read_short(chr2(5:6,:), 1, count);
  t.lineFreq = read_int(chr2(9:12,:), 1, count);
  t.specRFamp = read_short(chr2(13:14,:), 1, count);
  t.broadBandXcvr = read_short(chr2(15:16,:), 1, count);
  t.trDither = read_short(chr2(17:18,:), 1, count);
  t.rfBodyVectorZ = read_int(chr2(21:24,:), 1, count);
  t.rfBodyLength = read_int(chr2(25:28,:), 1, count);
  t.rfBodyRadius = read_int(chr2(29:32,:), 1, count);
  t.rfHeadVectorY = read_int(chr2(33:36,:), 1, count);
  t.rfHeadVectorZ = read_int(chr2(37:40,:), 1, count);
  t.rfHeadLength = read_int(chr2(41:44,:), 1, count);
  t.rfHeadRadius = read_int(chr2(45:48,:), 1, count);
  t.xfull = read_int(chr2(49:52,:), 1, count);
  t.yfull = read_int(chr2(53:56,:), 1, count);
  t.zfull = read_int(chr2(57:60,:), 1, count);
  t.gradientScale = read_float(chr2(61:64,:), 1, count);
  t.minGradRamp = read_int(chr2(65:68,:), 1, count);
  t.ampCalHead = read_int(chr2(69:72,:), 1, count);
  t.ampCalBody = read_int(chr2(73:76,:), 1, count);
  t.magnetType = read_int(chr2(77:80,:), 1, count);
  t.fieldStrength = read_int(chr2(81:84,:), 1, count);
  t.isoVectorZ = read_int(chr2(85:88,:), 1, count);
  t.tableLimit = read_int(chr2(89:92,:), 1, count);
  t.begTravel = read_int(chr2(93:96,:), 1, count);
  t.endTravel = read_int(chr2(97:100,:), 1, count);
  t.maxGradShim = read_int(chr2(101:104,:), 1, count);
  t.hpdl = read_int(chr2(105:108,:), 1, count);
  t.bpdl = read_int(chr2(109:112,:), 1, count);
  t.hpsl = read_int(chr2(113:116,:), 1, count);
  t.bpsl = read_int(chr2(117:120,:), 1, count);
  t.hpv = read_int(chr2(121:124,:), 1, count);
  t.bpv = read_int(chr2(125:128,:), 1, count);
  t.hqpc = read_float(chr2(129:132,:), 1, count);
  t.bqpc = read_float(chr2(133:136,:), 1, count);
  t.hllr = read_int(chr2(137:140,:), 1, count);
  t.bllr = read_int(chr2(141:144,:), 1, count);
  t.netLoss = read_float(chr2(145:148,:), 1, count);
  t.maxCoilCurrent = read_int(chr2(149:152,:), 1, count);
  t.aveCoilCurrent = read_int(chr2(153:156,:), 1, count);
  t.fixedHWtdel = read_int(chr2(157:160,:), 1, count);
  t.cineTdel = read_int(chr2(161:164,:), 1, count);
  t.minBW = read_int(chr2(165:168,:), 1, count);
  t.edrThreshold = read_int(chr2(169:172,:), 1, count);
  t.numAPs = read_int(chr2(173:176,:), 1, count);
  t.sizeAP0 = read_int(chr2(177:180,:), 1, count);
  t.sizeAP1 = read_int(chr2(181:184,:), 1, count);
  t.sizeAP2 = read_int(chr2(185:188,:), 1, count);
  t.sizeAP3 = read_int(chr2(189:192,:), 1, count);
  t.numTPSmemBds = read_int(chr2(193:196,:), 1, count);
  t.sizeTPSmemBd0 = read_int(chr2(197:200,:), 1, count);
  t.sizeTPSmemBd1 = read_int(chr2(201:204,:), 1, count);
  t.sizeTPSmemBd2 = read_int(chr2(205:208,:), 1, count);
  t.sizeTPSmemBd3 = read_int(chr2(209:212,:), 1, count);
  t.sizeTPSmemBd4 = read_int(chr2(213:216,:), 1, count);
  t.numRcvrs = read_int(chr2(217:220,:), 1, count);

function [t, outpos] = read_TD_COIL_CFG(chr, inpos, count)
  outpos = inpos + 64 * count;
  chr2=reshape(chr(inpos:inpos+count*64-1), 64, []);
  t.coilName = read_char(chr2(1:16,:), 1, count*16);
  t.korecName = read_char(chr2(17:20,:), 1, count*4);
  t.coilType = read_int(chr2(21:24,:), 1, count);
  t.extremity = read_short(chr2(25:26,:), 1, count);
  t.cableLoss = read_float(chr2(29:32,:), 1, count);
  t.coilLoss = read_float(chr2(33:36,:), 1, count);
  t.reconScale = read_float(chr2(37:40,:), 1, count);
  t.linearQuad = read_int(chr2(41:44,:), 1, count);
  t.multiCoil = read_short(chr2(45:46,:), 1, count);
  t.numRec = read_int(chr2(49:52,:), 1, count);
  t.startRec = read_int(chr2(53:56,:), 1, count);
  t.endRec = read_int(chr2(57:60,:), 1, count);
  t.mcPortEnable = read_int(chr2(61:64,:), 1, count);

function [t, outpos] = read_TD_FS_CFG(chr, inpos, count)
  outpos = inpos + 4 * count;
  chr2=reshape(chr(inpos:inpos+count*4-1), 4, []);
  t.field_strength = read_float(chr2(1:4,:), 1, count);

function [t, outpos] = read_TOOLSDATA_INFO(chr, inpos, count)
  outpos = inpos + 1248 * count;
  chr2=reshape(chr(inpos:inpos+count*1248-1), 1248, []);
  t.mrCfg = read_TD_MR_CFG(chr2(1:220,:), 1, count);
  t.coilCfg = read_TD_COIL_CFG(chr2(221:1244,:), 1, count*16);
  t.fsCfg = read_TD_FS_CFG(chr2(1245:1248,:), 1, count);

function [t, outpos] = read_TOOLSDATA(chr, inpos, count)
  outpos = inpos + 2048 * count;
  chr2=reshape(chr(inpos:inpos+count*2048-1), 2048, []);
  t.toolsdataInfo = read_TOOLSDATA_INFO(chr2(1:1248,:), 1, count);
  t.toolsdataBuffer = read_char(chr2(1:2048,:), 1, count*2048);

function [t, outpos] = read_OP_NMRID_TYPE(chr, inpos, count)
  [t, outpos] = read_s8(chr, inpos, count*(12));

function [t, outpos] = read_OP_HDR1_TYPE(chr, inpos, count)
  outpos = inpos + 40 * count;
  chr2=reshape(chr(inpos:inpos+count*40-1), 40, []);
  t.rev = read_n16(chr2(1:2,:), 1, count);
  t.length = read_n16(chr2(3:4,:), 1, count);
  t.req_nmrid = read_OP_NMRID_TYPE(chr2(5:16,:), 1, count);
  t.resp_nmrid = read_OP_NMRID_TYPE(chr2(17:28,:), 1, count);
  t.opcode = read_n16(chr2(29:30,:), 1, count);
  t.packet_type = read_n16(chr2(31:32,:), 1, count);
  t.seq_num = read_n16(chr2(33:34,:), 1, count);
  t.status = read_n32(chr2(37:40,:), 1, count);

function [t, outpos] = read_OP_HDR_TYPE(chr, inpos, count)
  outpos = inpos + 40 * count;
  chr2=reshape(chr(inpos:inpos+count*40-1), 40, []);
  t.rev = read_s8(chr2(1:1,:), 1, count);
  t.endian = read_s8(chr2(2:2,:), 1, count);
  t.length = read_n16(chr2(3:4,:), 1, count);
  t.req_nmrid = read_OP_NMRID_TYPE(chr2(5:16,:), 1, count);
  t.resp_nmrid = read_OP_NMRID_TYPE(chr2(17:28,:), 1, count);
  t.opcode = read_n16(chr2(29:30,:), 1, count);
  t.packet_type = read_n16(chr2(31:32,:), 1, count);
  t.seq_num = read_n16(chr2(33:34,:), 1, count);
  t.pad = read_n16(chr2(35:36,:), 1, count);
  t.status = read_n32(chr2(37:40,:), 1, count);

function [t, outpos] = read_struct_tm(chr, inpos, count)
  outpos = inpos + 44 * count;
  chr2=reshape(chr(inpos:inpos+count*44-1), 44, []);
  t.tm_sec = read_int(chr2(1:4,:), 1, count);
  t.tm_min = read_int(chr2(5:8,:), 1, count);
  t.tm_hour = read_int(chr2(9:12,:), 1, count);
  t.tm_mday = read_int(chr2(13:16,:), 1, count);
  t.tm_mon = read_int(chr2(17:20,:), 1, count);
  t.tm_year = read_int(chr2(21:24,:), 1, count);
  t.tm_wday = read_int(chr2(25:28,:), 1, count);
  t.tm_yday = read_int(chr2(29:32,:), 1, count);
  t.tm_isdst = read_int(chr2(33:36,:), 1, count);

function [t, outpos] = read_COIL_CONFIG_PARAM_TYPE(chr, inpos, count)
  outpos = inpos + 244 * count;
  chr2=reshape(chr(inpos:inpos+count*244-1), 244, []);
  t.coilName = read_char(chr2(1:16,:), 1, count*16);
  t.GEcoilName = read_char(chr2(17:40,:), 1, count*24);
  t.pureCorrection = read_short(chr2(41:42,:), 1, count);
  t.numOfReceivers = read_int(chr2(45:48,:), 1, count);
  t.extremity = read_int(chr2(49:52,:), 1, count);
  t.coilType = read_int(chr2(53:56,:), 1, count);
  t.multiCoil = read_int(chr2(57:60,:), 1, count);
  t.fastTGmode = read_int(chr2(61:64,:), 1, count);
  t.fastTGstartTA = read_int(chr2(65:68,:), 1, count);
  t.fastTGstartRG = read_int(chr2(69:72,:), 1, count);
  t.userInterfaceGroup = read_int(chr2(73:76,:), 1, count);
  t.autoshimChannel = read_int(chr2(77:80,:), 1, count);
  t.nuclide = read_int(chr2(81:84,:), 1, count);
  t.tRPAvolumeRecEnable = read_int(chr2(85:88,:), 1, count);
  t.pureCompatible = read_int(chr2(89:92,:), 1, count);
  t.cableLoss = read_float(chr2(93:96,:), 1, count);
  t.coilLoss = read_float(chr2(97:100,:), 1, count);
  t.reconScale = read_float(chr2(101:104,:), 1, count);
  t.prescanWeight = read_float(chr2(105:232,:), 1, count*32);
  t.aps1StartTA = read_int(chr2(233:236,:), 1, count);
  t.cflStartTA = read_int(chr2(237:240,:), 1, count);
  t.autoshimFOV = read_float(chr2(241:244,:), 1, count);

function [t, outpos] = read_MR_CONFIG_PARAM_TYPE(chr, inpos, count)
  outpos = inpos + 196 * count;
  chr2=reshape(chr(inpos:inpos+count*196-1), 196, []);
  t.ampCalHead = read_int(chr2(1:4,:), 1, count);
  t.ampCalBody = read_int(chr2(5:8,:), 1, count);
  t.ampCalMns = read_int(chr2(9:12,:), 1, count);
  t.maxGradShim = read_int(chr2(13:16,:), 1, count);
  t.edrThreshold = read_int(chr2(17:20,:), 1, count);
  t.fieldStrength = read_int(chr2(21:24,:), 1, count);
  t.broadBandXcvr = read_char(chr2(25:29,:), 1, count*5);
  t.dfmXshim = read_int(chr2(33:36,:), 1, count);
  t.dfmYshim = read_int(chr2(37:40,:), 1, count);
  t.dfmZshim = read_int(chr2(41:44,:), 1, count);
  t.dfm_shim_scale = read_int(chr2(45:48,:), 1, count);
  t.dfmZ2shim = read_int(chr2(49:52,:), 1, count);
  t.isZ2 = read_int(chr2(53:56,:), 1, count);
  t.isZ2autoshim = read_int(chr2(57:60,:), 1, count);
  t.isZ2tempUpdate = read_int(chr2(61:64,:), 1, count);
  t.scannerMode = read_int(chr2(65:68,:), 1, count);
  t.compress = read_int(chr2(69:72,:), 1, count);
  t.VeryHighFieldScale = read_int(chr2(73:76,:), 1, count);
  t.fileFormatRev = read_int(chr2(77:80,:), 1, count);
  t.lineFreq = read_int(chr2(81:84,:), 1, count);
  t.specRFamp = read_char(chr2(85:89,:), 1, count*5);
  t.trDither = read_char(chr2(90:94,:), 1, count*5);
  t.rfBodyVectorZ = read_int(chr2(97:100,:), 1, count);
  t.rfBodyLength = read_int(chr2(101:104,:), 1, count);
  t.rfBodyRadius = read_int(chr2(105:108,:), 1, count);
  t.rfHeadVectorY = read_int(chr2(109:112,:), 1, count);
  t.rfHeadVectorZ = read_int(chr2(113:116,:), 1, count);
  t.rfHeadLength = read_int(chr2(117:120,:), 1, count);
  t.rfHeadRadius = read_int(chr2(121:124,:), 1, count);
  t.isoVectorZ = read_int(chr2(125:128,:), 1, count);
  t.tableLimit = read_int(chr2(129:132,:), 1, count);
  t.begTravel = read_int(chr2(133:136,:), 1, count);
  t.endTravel = read_int(chr2(137:140,:), 1, count);
  t.hpdl = read_int(chr2(141:144,:), 1, count);
  t.bpdl = read_int(chr2(145:148,:), 1, count);
  t.hpsl = read_int(chr2(149:152,:), 1, count);
  t.bpsl = read_int(chr2(153:156,:), 1, count);
  t.hpv = read_int(chr2(157:160,:), 1, count);
  t.bpv = read_int(chr2(161:164,:), 1, count);
  t.hqpc = read_float(chr2(165:168,:), 1, count);
  t.bqpc = read_float(chr2(169:172,:), 1, count);
  t.hllr = read_int(chr2(173:176,:), 1, count);
  t.bllr = read_int(chr2(177:180,:), 1, count);
  t.netLoss = read_float(chr2(181:184,:), 1, count);
  t.fixedHWtdel = read_int(chr2(185:188,:), 1, count);
  t.cineTdel = read_int(chr2(189:192,:), 1, count);
  t.minBW = read_int(chr2(193:196,:), 1, count);

function [t, outpos] = read_GRADIENT_CONFIG_PARAM_TYPE(chr, inpos, count)
  outpos = inpos + 16 * count;
  chr2=reshape(chr(inpos:inpos+count*16-1), 16, []);
  t.GCoilType = read_int(chr2(1:4,:), 1, count);
  t.z2FSAmp = read_float(chr2(5:8,:), 1, count);
  t.z2full = read_float(chr2(9:12,:), 1, count);
  t.SRMode = read_int(chr2(13:16,:), 1, count);

function [t, outpos] = read_SUITE_CONFIG_PARAM_TYPE(chr, inpos, count)
  outpos = inpos + 42 * count;
  chr2=reshape(chr(inpos:inpos+count*42-1), 42, []);
  t.suiteId = read_char(chr2(1:7,:), 1, count*7);
  t.hospitalName = read_char(chr2(8:42,:), 1, count*35);

function [t, outpos] = read_HOST_CONFIG_PARAM_TYPE(chr, inpos, count)
  outpos = inpos + 44 * count;
  chr2=reshape(chr(inpos:inpos+count*44-1), 44, []);
  t.hostName = read_char(chr2(1:5,:), 1, count*5);
  t.UniqueSystemID = read_char(chr2(6:22,:), 1, count*17);
  t.ServiceID = read_char(chr2(23:39,:), 1, count*17);
  t.MobileLocationNumber = read_char(chr2(40:44,:), 1, count*5);

function [t, outpos] = read_PURE_CONFIG_PARAM_TYPE(chr, inpos, count)
  outpos = inpos + 28 * count;
  chr2=reshape(chr(inpos:inpos+count*28-1), 28, []);
  t.pure_noise_threshold = read_int(chr2(1:4,:), 1, count);
  t.pure_intensity_scale = read_int(chr2(5:8,:), 1, count);
  t.pure_weight_radius = read_int(chr2(9:12,:), 1, count);
  t.pure_kernelsize_xy = read_int(chr2(13:16,:), 1, count);
  t.pure_kernelsize_z = read_int(chr2(17:20,:), 1, count);
  t.pure_fit_order = read_int(chr2(21:24,:), 1, count);
  t.pure_filter = read_int(chr2(25:28,:), 1, count);

function [t, outpos] = read_centerRAS(chr, inpos, count)
  outpos = inpos + 12 * count;
  chr2=reshape(chr(inpos:inpos+count*12-1), 12, []);
  t.centerR = read_f32(chr2(1:4,:), 1, count);
  t.centerA = read_f32(chr2(5:8,:), 1, count);
  t.centerS = read_f32(chr2(9:12,:), 1, count);

function [t, outpos] = read_MxStartInfo(chr, inpos, count)
  outpos = inpos + 236 * count;
  chr2=reshape(chr(inpos:inpos+count*236-1), 236, []);
  t.centerFrequency = read_long(chr2(1:4,:), 1, count);
  t.transmitGain = read_long(chr2(5:8,:), 1, count);
  t.xShim = read_short(chr2(9:10,:), 1, count);
  t.yShim = read_short(chr2(11:12,:), 1, count);
  t.zShim = read_short(chr2(13:14,:), 1, count);
  t.analogReceiveGain = read_long(chr2(17:20,:), 1, count);
  t.digitalReceiveGain = read_long(chr2(21:24,:), 1, count);
  t.receiverNoiseStdDev = read_float(chr2(25:152,:), 1, count*32);
  t.latestCenterFrequency = read_long(chr2(153:156,:), 1, count);
  t.runCenterFrequencyCourse = read_long(chr2(157:160,:), 1, count);
  t.runCenterFrequencyFine = read_long(chr2(161:164,:), 1, count);
  t.runTransmitGain = read_long(chr2(165:168,:), 1, count);
  t.runAutoShim = read_long(chr2(169:172,:), 1, count);
  t.runReceiverNoise = read_long(chr2(173:176,:), 1, count);
  t.runReceiveGain = read_long(chr2(177:180,:), 1, count);
  t.mxReachable = read_short(chr2(181:182,:), 1, count);
  t.reuse = read_char(chr2(183:234,:), 1, count*52);

function [t, outpos] = read_MxDoneInfo(chr, inpos, count)
  outpos = inpos + 172 * count;
  chr2=reshape(chr(inpos:inpos+count*172-1), 172, []);
  t.centerFrequency = read_long(chr2(1:4,:), 1, count);
  t.transmitGain = read_long(chr2(5:8,:), 1, count);
  t.xShim = read_short(chr2(9:10,:), 1, count);
  t.yShim = read_short(chr2(11:12,:), 1, count);
  t.zShim = read_short(chr2(13:14,:), 1, count);
  t.analogReceiveGain = read_long(chr2(17:20,:), 1, count);
  t.digitalReceiveGain = read_long(chr2(21:24,:), 1, count);
  t.receiverNoiseStdDev = read_float(chr2(25:152,:), 1, count*32);
  t.autoMode = read_s32(chr2(153:156,:), 1, count);
  t.saveCenterFrequency = read_s32(chr2(157:160,:), 1, count);
  t.saveTransmitGain = read_s32(chr2(161:164,:), 1, count);
  t.saveAutoShim = read_s32(chr2(165:168,:), 1, count);
  t.saveReceiverNoise = read_s32(chr2(169:172,:), 1, count);

function [t, outpos] = read_OP_PSC_START_TYPE(chr, inpos, count)
  outpos = inpos + 868 * count;
  chr2=reshape(chr(inpos:inpos+count*868-1), 868, []);
  t.rdbm_run_number = read_s32(chr2(1:4,:), 1, count);
  t.active_psd_pid = read_s32(chr2(5:8,:), 1, count);
  t.exam_number = read_s32(chr2(9:12,:), 1, count);
  t.time_stamp = read_struct_timespec(chr2(13:20,:), 1, count);
  t.research_mode = read_s32(chr2(21:24,:), 1, count);
  t.fautoshim = read_s32(chr2(25:28,:), 1, count);
  t.fmultiGroup = read_s32(chr2(29:32,:), 1, count);
  t.scanCenterRAS = read_centerRAS(chr2(33:44,:), 1, count);
  t.tablePosition = read_f32(chr2(45:48,:), 1, count);
  t.sequence_no = read_s32(chr2(49:52,:), 1, count);
  t.scan_pressed = read_s32(chr2(53:56,:), 1, count);
  t.shimCenterRAS = read_centerRAS(chr2(57:80,:), 1, count*2);
  t.prescanFov = read_s32(chr2(81:84,:), 1, count);
  t.prescanSlabThick = read_f32(chr2(85:88,:), 1, count);
  t.force_aps = read_s32(chr2(89:92,:), 1, count);
  t.contrast_flag = read_s16(chr2(93:94,:), 1, count);
  t.mx_info = read_MxStartInfo(chr2(97:332,:), 1, count);
  t.coil_name = read_s8(chr2(333:357,:), 1, count*25);
  t.entry_link = read_s8(chr2(358:407,:), 1, count*50);
  t.swap_channels = read_n16(chr2(409:410,:), 1, count);
  t.coilConfigParam = read_COIL_CONFIG_PARAM_TYPE(chr2(413:656,:), 1, count);
  t.mrConfigParam = read_MR_CONFIG_PARAM_TYPE(chr2(657:852,:), 1, count);
  t.gradientConfigParam = read_GRADIENT_CONFIG_PARAM_TYPE(chr2(853:868,:), 1, count);

function [t, outpos] = read_OP_PSC_DONE_TYPE(chr, inpos, count)
  outpos = inpos + 236 * count;
  chr2=reshape(chr(inpos:inpos+count*236-1), 236, []);
  t.r1 = read_s32(chr2(1:4,:), 1, count);
  t.r2 = read_s32(chr2(5:8,:), 1, count);
  t.tg = read_s32(chr2(9:12,:), 1, count);
  t.ax = read_s32(chr2(13:16,:), 1, count);
  t.recon_scale = read_f32(chr2(17:24,:), 1, count*2);
  t.status = read_s32(chr2(25:28,:), 1, count);
  t.cancel = read_s32(chr2(29:32,:), 1, count);
  t.opcode = read_s32(chr2(33:36,:), 1, count);
  t.line_width = read_s32(chr2(37:40,:), 1, count);
  t.ws_flip = read_s32(chr2(41:44,:), 1, count);
  t.supp_lvl = read_s32(chr2(45:48,:), 1, count);
  t.spectro_flag = read_s32(chr2(49:52,:), 1, count);
  t.message = read_s32(chr2(53:56,:), 1, count);
  t.pscsaved = read_s32(chr2(57:60,:), 1, count);
  t.psc_full_aps = read_s32(chr2(61:64,:), 1, count);
  t.mx_info = read_MxDoneInfo(chr2(65:236,:), 1, count);

function [t, outpos] = read_OP_PSC_COPYPSCD_TYPE(chr, inpos, count)
  outpos = inpos + 8 * count;
  chr2=reshape(chr(inpos:inpos+count*8-1), 8, []);
  t.seqno_copy_to = read_s32(chr2(1:4,:), 1, count);
  t.seqno_copy_from = read_s32(chr2(5:8,:), 1, count);

function [t, outpos] = read_OP_PSC_COPYDONE_TYPE(chr, inpos, count)
  outpos = inpos + 4 * count;
  chr2=reshape(chr(inpos:inpos+count*4-1), 4, []);
  t.status = read_s32(chr2(1:4,:), 1, count);

function [t, outpos] = read_OP_PSC_SCANOP_TYPE(chr, inpos, count)
  outpos = inpos + 4 * count;
  chr2=reshape(chr(inpos:inpos+count*4-1), 4, []);
  t.operation = read_s32(chr2(1:4,:), 1, count);

function [t, outpos] = read_OP_MPS_START_TYPE(chr, inpos, count)
  outpos = inpos + 396 * count;
  chr2=reshape(chr(inpos:inpos+count*396-1), 396, []);
  t.req_opcode = read_s32(chr2(1:4,:), 1, count);
  t.pass_desc = read_s32(chr2(5:8,:), 1, count);
  t.req_size = read_s32(chr2(9:12,:), 1, count);
  t.timestamp = read_struct_timespec(chr2(13:20,:), 1, count);
  t.nframes = read_s32(chr2(21:24,:), 1, count);
  t.leftfr1 = read_s32(chr2(25:28,:), 1, count);
  t.leftfr2 = read_s32(chr2(29:32,:), 1, count);
  t.leftpg = read_s32(chr2(33:36,:), 1, count);
  t.leftpt = read_s32(chr2(37:40,:), 1, count);
  t.rtfr1 = read_s32(chr2(41:44,:), 1, count);
  t.rtfr2 = read_s32(chr2(45:48,:), 1, count);
  t.rtpg = read_s32(chr2(49:52,:), 1, count);
  t.rtpt = read_s32(chr2(53:56,:), 1, count);
  t.nexda = read_s32(chr2(57:60,:), 1, count);
  t.mode = read_s32(chr2(61:64,:), 1, count);
  t.power_on = read_s32(chr2(65:68,:), 1, count);
  t.recv_strt = read_s32(chr2(69:72,:), 1, count);
  t.recv_end = read_s32(chr2(73:76,:), 1, count);
  t.psd_ep = read_s8(chr2(77:92,:), 1, count*16);
  t.recv_plot = read_s32(chr2(93:96,:), 1, count);
  t.opnecho = read_s32(chr2(97:100,:), 1, count);
  t.filter1 = read_s32(chr2(101:104,:), 1, count);
  t.filter2 = read_s32(chr2(105:108,:), 1, count);
  t.noadc = read_s32(chr2(109:112,:), 1, count);
  t.acq_tagwords = read_s32(chr2(113:116,:), 1, count);
  t.fastrcv = read_s32(chr2(117:120,:), 1, count);
  t.passthrough = read_s32(chr2(121:124,:), 1, count);
  t.num_psc_vol = read_s32(chr2(125:128,:), 1, count);
  t.num_psc_slab = read_s32(chr2(129:132,:), 1, count);
  t.num_psc_rcvn_slab = read_s32(chr2(133:136,:), 1, count);
  t.coil_weight = read_f32(chr2(137:264,:), 1, count*32);
  t.runReceiverNoise = read_s32(chr2(265:268,:), 1, count);
  t.receiverNoiseStdDev = read_f32(chr2(269:396,:), 1, count*32);

function [t, outpos] = read_OP_MPS_START_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 436 * count;
  chr2=reshape(chr(inpos:inpos+count*436-1), 436, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_MPS_START_TYPE(chr2(41:436,:), 1, count);

function [t, outpos] = read_OP_MPS_DATA_TYPE(chr, inpos, count)
  outpos = inpos + 1048 * count;
  chr2=reshape(chr(inpos:inpos+count*1048-1), 1048, []);
  t.leftdata = read_s16(chr2(1:512,:), 1, count*256);
  t.rightdata = read_s16(chr2(513:1024,:), 1, count*256);
  t.adpeak = read_s32(chr2(1025:1032,:), 1, count*2);
  t.bspeak = read_s32(chr2(1033:1040,:), 1, count*2);
  t.minrec = read_s32(chr2(1041:1044,:), 1, count);
  t.maxrec = read_s32(chr2(1045:1048,:), 1, count);

function [t, outpos] = read_OP_MPS_DATA_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 1088 * count;
  chr2=reshape(chr(inpos:inpos+count*1088-1), 1088, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_MPS_DATA_TYPE(chr2(41:1088,:), 1, count);

function [t, outpos] = read_OP_MPS_NEEDDATA_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 40 * count;
  chr2=reshape(chr(inpos:inpos+count*40-1), 40, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);

function [t, outpos] = read_OP_MPS_STOP_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 40 * count;
  chr2=reshape(chr(inpos:inpos+count*40-1), 40, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);

function [t, outpos] = read_OP_MPS_TARDSTOP_TYPE(chr, inpos, count)
  outpos = inpos + 1920 * count;
  chr2=reshape(chr(inpos:inpos+count*1920-1), 1920, []);
  t.rcv_cal = read_f32(chr2(1:1664,:), 1, count*416);
  t.noise_mean = read_f32(chr2(1665:1792,:), 1, count*32);
  t.noise_std = read_f32(chr2(1793:1920,:), 1, count*32);

function [t, outpos] = read_OP_MPS_TARDSTOP_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 1960 * count;
  chr2=reshape(chr(inpos:inpos+count*1960-1), 1960, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_MPS_TARDSTOP_TYPE(chr2(41:1960,:), 1, count);

function [t, outpos] = read_OP_APS_START_TYPE(chr, inpos, count)
  outpos = inpos + 808 * count;
  chr2=reshape(chr(inpos:inpos+count*808-1), 808, []);
  t.req_opcode = read_s32(chr2(1:4,:), 1, count);
  t.pass_desc = read_s32(chr2(5:8,:), 1, count);
  t.req_size = read_s32(chr2(9:12,:), 1, count);
  t.start_ta = read_s32(chr2(13:16,:), 1, count);
  t.start_rg = read_s32(chr2(17:20,:), 1, count);
  t.start_cf = read_s32(chr2(21:24,:), 1, count);
  t.cf_start_ta = read_s32(chr2(25:28,:), 1, count);
  t.scan_nex = read_s32(chr2(29:32,:), 1, count);
  t.acq_mode = read_s32(chr2(33:36,:), 1, count);
  t.cf_mode = read_s32(chr2(37:40,:), 1, count);
  t.tsp_cfac = read_s32(chr2(41:44,:), 1, count);
  t.tsp_cfaf = read_s32(chr2(45:48,:), 1, count);
  t.slquant = read_s32(chr2(49:52,:), 1, count);
  t.xmtadd = read_s32(chr2(53:96,:), 1, count*11);
  t.xaddmax = read_s32(chr2(97:100,:), 1, count);
  t.max_r2_16mode = read_s32(chr2(101:104,:), 1, count);
  t.max_r2_32mode = read_s32(chr2(105:108,:), 1, count);
  t.ad_min_signal = read_s32(chr2(109:112,:), 1, count);
  t.amp_cal = read_s32(chr2(113:116,:), 1, count);
  t.bamtarget = read_s32(chr2(117:120,:), 1, count);
  t.target = read_s32(chr2(121:124,:), 1, count);
  t.min_signal = read_s32(chr2(125:128,:), 1, count);
  t.max_signal = read_s32(chr2(129:132,:), 1, count);
  t.breath_wait = read_s32(chr2(133:136,:), 1, count);
  t.discard_points = read_s32(chr2(137:140,:), 1, count);
  t.debug = read_s32(chr2(141:144,:), 1, count);
  t.min_hi_points = read_s32(chr2(145:148,:), 1, count);
  t.min_lo_points = read_s32(chr2(149:152,:), 1, count);
  t.min_noise = read_s32(chr2(153:156,:), 1, count);
  t.recv_strt = read_s32(chr2(157:160,:), 1, count);
  t.recv_end = read_s32(chr2(161:164,:), 1, count);
  t.timestamp = read_struct_timespec(chr2(165:172,:), 1, count);
  t.control = read_s32(chr2(173:232,:), 1, count*15);
  t.opnecho = read_s32(chr2(233:236,:), 1, count);
  t.filter1 = read_s32(chr2(237:240,:), 1, count);
  t.filter2 = read_s32(chr2(241:244,:), 1, count);
  t.noadc = read_s32(chr2(245:248,:), 1, count);
  t.nolr = read_s32(chr2(249:252,:), 1, count);
  t.acq_tagwords = read_s32(chr2(253:256,:), 1, count);
  t.cf_min_peak_threshold = read_s32(chr2(257:260,:), 1, count);
  t.suppress_pass = read_s32(chr2(261:264,:), 1, count);
  t.shim_pass = read_s32(chr2(265:268,:), 1, count);
  t.shim_step = read_s32(chr2(269:272,:), 1, count);
  t.spec_pts = read_s32(chr2(273:276,:), 1, count);
  t.spec_width = read_s32(chr2(277:280,:), 1, count);
  t.as_pass = read_s32(chr2(281:284,:), 1, count);
  t.plane_calc3 = read_s32(chr2(285:288,:), 1, count);
  t.def_plane = read_s32(chr2(289:292,:), 1, count);
  t.time_stamp = read_struct_timespec(chr2(293:300,:), 1, count);
  t.asxres = read_s32(chr2(301:304,:), 1, count);
  t.asyres = read_s32(chr2(305:308,:), 1, count);
  t.asbaseline = read_s32(chr2(309:312,:), 1, count);
  t.asrhblank = read_s32(chr2(313:316,:), 1, count);
  t.asptsize = read_s32(chr2(317:320,:), 1, count);
  t.opfov = read_f32(chr2(321:324,:), 1, count);
  t.transpose = read_s32(chr2(325:336,:), 1, count*3);
  t.rotation = read_s32(chr2(337:348,:), 1, count*3);
  t.cur_pos_x = read_s32(chr2(349:352,:), 1, count);
  t.cur_pos_y = read_s32(chr2(353:356,:), 1, count);
  t.cur_pos_z = read_s32(chr2(357:360,:), 1, count);
  t.cur_ax_x = read_s32(chr2(361:364,:), 1, count);
  t.cur_ax_y = read_s32(chr2(365:368,:), 1, count);
  t.cur_ax_z = read_s32(chr2(369:372,:), 1, count);
  t.cur_angle = read_s32(chr2(373:376,:), 1, count);
  t.field_strength = read_s32(chr2(377:380,:), 1, count);
  t.position = read_s32(chr2(381:384,:), 1, count);
  t.ftg_rg = read_s32(chr2(385:388,:), 1, count);
  t.fastrcv = read_s32(chr2(389:392,:), 1, count);
  t.as_std_above_mean = read_f32(chr2(393:396,:), 1, count);
  t.as_max_2_floor = read_f32(chr2(397:400,:), 1, count);
  t.as_hard_floor = read_f32(chr2(401:404,:), 1, count);
  t.as_mask_ratio = read_f32(chr2(405:408,:), 1, count);
  t.vox_shim = read_s32(chr2(409:412,:), 1, count);
  t.boresize = read_s32(chr2(413:416,:), 1, count);
  t.ftg_start_ta = read_s32(chr2(417:420,:), 1, count);
  t.delta_TG = read_s32(chr2(421:424,:), 1, count);
  t.fseps_iter = read_s32(chr2(425:428,:), 1, count);
  t.fseps_slices = read_s32(chr2(429:432,:), 1, count);
  t.fseps_xres = read_s32(chr2(433:436,:), 1, count);
  t.fseps2_iter = read_s32(chr2(437:440,:), 1, count);
  t.fseps2_zffactor = read_f32(chr2(441:444,:), 1, count);
  t.isZ2 = read_s32(chr2(445:448,:), 1, count);
  t.isZ2autoshim = read_s32(chr2(449:452,:), 1, count);
  t.ps_connected_coil = read_s32(chr2(453:456,:), 1, count);
  t.apa_coilsel = read_s32(chr2(457:460,:), 1, count);
  t.apa_fov = read_f32(chr2(461:464,:), 1, count);
  t.apa_coilname = read_s8(chr2(465:484,:), 1, count*20);
  t.num_psc_vol = read_s32(chr2(485:488,:), 1, count);
  t.num_psc_slab = read_s32(chr2(489:492,:), 1, count);
  t.num_psc_rcvn_slab = read_s32(chr2(493:496,:), 1, count);
  t.cur_pos_vol2x = read_s32(chr2(497:500,:), 1, count);
  t.cur_pos_vol2y = read_s32(chr2(501:504,:), 1, count);
  t.cur_pos_vol2z = read_s32(chr2(505:508,:), 1, count);
  t.cur_ax_vol2x = read_s32(chr2(509:512,:), 1, count);
  t.cur_ax_vol2y = read_s32(chr2(513:516,:), 1, count);
  t.cur_ax_vol2z = read_s32(chr2(517:520,:), 1, count);
  t.ir_flag = read_s32(chr2(521:524,:), 1, count);
  t.escfh_slices = read_s32(chr2(525:528,:), 1, count);
  t.coil_weight = read_f32(chr2(529:656,:), 1, count*32);
  t.fseps_rcvr = read_s32(chr2(657:660,:), 1, count);
  t.runReceiverNoise = read_s32(chr2(661:664,:), 1, count);
  t.receiverNoiseStdDev = read_f32(chr2(665:792,:), 1, count*32);
  t.max_rg = read_s32(chr2(793:796,:), 1, count);
  t.psc_prep = read_s32(chr2(797:800,:), 1, count);
  t.cfh_raise_threshold = read_s32(chr2(801:804,:), 1, count);
  t.indicate_single_peak = read_s32(chr2(805:808,:), 1, count);

function [t, outpos] = read_OP_APS_START_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 848 * count;
  chr2=reshape(chr(inpos:inpos+count*848-1), 848, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_APS_START_TYPE(chr2(41:848,:), 1, count);

function [t, outpos] = read_OP_APS_STOP_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 40 * count;
  chr2=reshape(chr(inpos:inpos+count*40-1), 40, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);

function [t, outpos] = read_OP_PS_LOOP_TYPE(chr, inpos, count)
  outpos = inpos + 20 * count;
  chr2=reshape(chr(inpos:inpos+count*20-1), 20, []);
  t.entrylab = read_s8(chr2(1:16,:), 1, count*16);
  t.xmitattn = read_s32(chr2(17:20,:), 1, count);

function [t, outpos] = read_OP_PS_LOOP_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 60 * count;
  chr2=reshape(chr(inpos:inpos+count*60-1), 60, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_PS_LOOP_TYPE(chr2(41:60,:), 1, count);

function [t, outpos] = read_OP_APS_DONE_TYPE(chr, inpos, count)
  outpos = inpos + 2120 * count;
  chr2=reshape(chr(inpos:inpos+count*2120-1), 2120, []);
  t.final_ta = read_s32(chr2(1:12,:), 1, count*3);
  t.final_rg = read_s32(chr2(13:24,:), 1, count*3);
  t.final_bs = read_s32(chr2(25:36,:), 1, count*3);
  t.final_cf = read_s32(chr2(37:48,:), 1, count*3);
  t.snr_advise = read_s32(chr2(49:52,:), 1, count);
  t.water = read_s32(chr2(53:64,:), 1, count*3);
  t.lipid = read_s32(chr2(65:76,:), 1, count*3);
  t.maximum = read_s32(chr2(77:88,:), 1, count*3);
  t.signalmax = read_s32(chr2(89:92,:), 1, count);
  t.rcv_cal = read_f32(chr2(93:1756,:), 1, count*416);
  t.noise_mean = read_f32(chr2(1757:1884,:), 1, count*32);
  t.noise_std = read_f32(chr2(1885:2012,:), 1, count*32);
  t.gx_shim = read_s32(chr2(2013:2016,:), 1, count);
  t.gy_shim = read_s32(chr2(2017:2020,:), 1, count);
  t.gz_shim = read_s32(chr2(2021:2024,:), 1, count);
  t.line_width = read_s32(chr2(2025:2028,:), 1, count);
  t.ws_flip = read_s32(chr2(2029:2032,:), 1, count);
  t.supp_lvl = read_s32(chr2(2033:2036,:), 1, count);
  t.spectro_flag = read_s32(chr2(2037:2040,:), 1, count);
  t.vme_addr = read_n16(chr2(2041:2046,:), 1, count*3);
  t.filler = read_n16(chr2(2047:2048,:), 1, count);
  t.x = read_f32(chr2(2049:2060,:), 1, count*3);
  t.y = read_f32(chr2(2061:2072,:), 1, count*3);
  t.x2 = read_f32(chr2(2073:2084,:), 1, count*3);
  t.y2 = read_f32(chr2(2085:2096,:), 1, count*3);
  t.window = read_s32(chr2(2097:2100,:), 1, count);
  t.level = read_s32(chr2(2101:2104,:), 1, count);
  t.panel = read_s32(chr2(2105:2108,:), 1, count);
  t.recall_roi = read_s32(chr2(2109:2112,:), 1, count);
  t.cfh_centered_on_left_peak = read_s32(chr2(2113:2116,:), 1, count);
  t.cfh_single_peak = read_s32(chr2(2117:2120,:), 1, count);

function [t, outpos] = read_OP_APS_DONE_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 2160 * count;
  chr2=reshape(chr(inpos:inpos+count*2160-1), 2160, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_APS_DONE_TYPE(chr2(41:2160,:), 1, count);

function [t, outpos] = read_OP_PS_PLOT_TYPE(chr, inpos, count)
  outpos = inpos + 20 * count;
  chr2=reshape(chr(inpos:inpos+count*20-1), 20, []);
  t.command = read_s32(chr2(1:4,:), 1, count);
  t.lplotgain = read_s32(chr2(5:8,:), 1, count);
  t.lplottype = read_s32(chr2(9:12,:), 1, count);
  t.rplotgain = read_s32(chr2(13:16,:), 1, count);
  t.rplottype = read_s32(chr2(17:20,:), 1, count);

function [t, outpos] = read_OP_PS_PLOT_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 60 * count;
  chr2=reshape(chr(inpos:inpos+count*60-1), 60, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_PS_PLOT_TYPE(chr2(41:60,:), 1, count);

function [t, outpos] = read_PRESCAN_HEADER(chr, inpos, count)
  outpos = inpos + 1500 * count;
  chr2=reshape(chr(inpos:inpos+count*1500-1), 1500, []);
  t.command = read_s32(chr2(1:4,:), 1, count);
  t.mps_r1 = read_s32(chr2(5:8,:), 1, count);
  t.mps_r2 = read_s32(chr2(9:12,:), 1, count);
  t.mps_tg = read_s32(chr2(13:16,:), 1, count);
  t.mps_freq = read_s32(chr2(17:20,:), 1, count);
  t.aps_r1 = read_s32(chr2(21:24,:), 1, count);
  t.aps_r2 = read_s32(chr2(25:28,:), 1, count);
  t.aps_tg = read_s32(chr2(29:32,:), 1, count);
  t.aps_freq = read_s32(chr2(33:36,:), 1, count);
  t.scalei = read_f32(chr2(37:40,:), 1, count);
  t.scaleq = read_f32(chr2(41:44,:), 1, count);
  t.snr_warning = read_s32(chr2(45:48,:), 1, count);
  t.aps_or_mps = read_s32(chr2(49:52,:), 1, count);
  t.mps_bitmap = read_s32(chr2(53:56,:), 1, count);
  t.powerspec = read_s8(chr2(57:312,:), 1, count*256);
  t.filler1 = read_s32(chr2(313:316,:), 1, count);
  t.filler2 = read_s32(chr2(317:320,:), 1, count);
  t.xshim = read_s16(chr2(321:322,:), 1, count);
  t.yshim = read_s16(chr2(323:324,:), 1, count);
  t.zshim = read_s16(chr2(325:326,:), 1, count);
  t.recon_enable = read_s16(chr2(327:328,:), 1, count);
  t.autoshim_status = read_s32(chr2(329:332,:), 1, count);
  t.rec_std = read_f32(chr2(333:844,:), 1, count*128);
  t.rec_mean = read_f32(chr2(845:1356,:), 1, count*128);
  t.line_width = read_s32(chr2(1357:1360,:), 1, count);
  t.ws_flip = read_s32(chr2(1361:1364,:), 1, count);
  t.supp_lvl = read_s32(chr2(1365:1368,:), 1, count);
  t.psc_reuse = read_s32(chr2(1369:1372,:), 1, count);
  t.psc_reuse_string = read_s8(chr2(1373:1424,:), 1, count*52);
  t.phase_correction_status = read_s16(chr2(1425:1426,:), 1, count);
  t.buffer = read_s8(chr2(1427:1500,:), 1, count*74);

function [t, outpos] = read_OP_PS_CHEMSAT_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 1540 * count;
  chr2=reshape(chr(inpos:inpos+count*1540-1), 1540, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_PRESCAN_HEADER(chr2(41:1540,:), 1, count);

function [t, outpos] = read_OP_PS_SKIP_TYPE(chr, inpos, count)
  outpos = inpos + 320 * count;
  chr2=reshape(chr(inpos:inpos+count*320-1), 320, []);
  t.mps_r1 = read_s32(chr2(1:4,:), 1, count);
  t.mps_r2 = read_s32(chr2(5:8,:), 1, count);
  t.mps_tg = read_s32(chr2(9:12,:), 1, count);
  t.mps_freq = read_s32(chr2(13:16,:), 1, count);
  t.aps_r1 = read_s32(chr2(17:20,:), 1, count);
  t.aps_r2 = read_s32(chr2(21:24,:), 1, count);
  t.aps_tg = read_s32(chr2(25:28,:), 1, count);
  t.aps_freq = read_s32(chr2(29:32,:), 1, count);
  t.scalei = read_f32(chr2(33:36,:), 1, count);
  t.scaleq = read_f32(chr2(37:40,:), 1, count);
  t.snr_warning = read_s32(chr2(41:44,:), 1, count);
  t.aps_or_mps = read_s32(chr2(45:48,:), 1, count);
  t.mps_bitmap = read_s32(chr2(49:52,:), 1, count);
  t.nrec = read_s32(chr2(53:56,:), 1, count);
  t.noise_mean = read_f32(chr2(57:184,:), 1, count*32);
  t.noise_std = read_f32(chr2(185:312,:), 1, count*32);
  t.autoshim_status = read_s32(chr2(313:316,:), 1, count);
  t.phase_correction_status = read_s16(chr2(317:318,:), 1, count);

function [t, outpos] = read_OP_PS_SKIP_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 360 * count;
  chr2=reshape(chr(inpos:inpos+count*360-1), 360, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_PS_SKIP_TYPE(chr2(41:360,:), 1, count);

function [t, outpos] = read_OP_MPS_RECCHAN_TYPE(chr, inpos, count)
  outpos = inpos + 4 * count;
  chr2=reshape(chr(inpos:inpos+count*4-1), 4, []);
  t.receiver = read_s32(chr2(1:4,:), 1, count);

function [t, outpos] = read_OP_MPS_RECCHAN_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 44 * count;
  chr2=reshape(chr(inpos:inpos+count*44-1), 44, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_MPS_RECCHAN_TYPE(chr2(41:44,:), 1, count);

function [t, outpos] = read_OP_MPS_CHGHDW_TYPE(chr, inpos, count)
  outpos = inpos + 20 * count;
  chr2=reshape(chr(inpos:inpos+count*20-1), 20, []);
  t.cmmnd = read_s32(chr2(1:4,:), 1, count);
  t.r1 = read_s32(chr2(5:8,:), 1, count);
  t.r2 = read_n32(chr2(9:12,:), 1, count);
  t.tg = read_n32(chr2(13:16,:), 1, count);
  t.ax = read_n32(chr2(17:20,:), 1, count);

function [t, outpos] = read_OP_MPS_CHGHDW_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 60 * count;
  chr2=reshape(chr(inpos:inpos+count*60-1), 60, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_MPS_CHGHDW_TYPE(chr2(41:60,:), 1, count);

function [t, outpos] = read_OP_MPS_WRITEDATA_TYPE(chr, inpos, count)
  outpos = inpos + 4 * count;
  chr2=reshape(chr(inpos:inpos+count*4-1), 4, []);
  t.message = read_s32(chr2(1:4,:), 1, count);

function [t, outpos] = read_OP_MPS_WRITEDATA_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 44 * count;
  chr2=reshape(chr(inpos:inpos+count*44-1), 44, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_MPS_WRITEDATA_TYPE(chr2(41:44,:), 1, count);

function [t, outpos] = read_struct_PS_PSL_ELEM_STRUCT(chr, inpos, count)
  outpos = inpos + 16 * count;
  chr2=reshape(chr(inpos:inpos+count*16-1), 16, []);
  t.opcode = read_s32(chr2(1:4,:), 1, count);
  t.reply = read_s32(chr2(5:8,:), 1, count);

function [t, outpos] = read_PS_PSL_ELEM(chr, inpos, count)
  [t, outpos] = read_struct_PS_PSL_ELEM_STRUCT(chr, inpos, count);

function [t, outpos] = read_struct_PS_PRL_ELEM_STRUCT(chr, inpos, count)
  outpos = inpos + 12 * count;
  chr2=reshape(chr(inpos:inpos+count*12-1), 12, []);

function [t, outpos] = read_PS_PRL_ELEM(chr, inpos, count)
  [t, outpos] = read_struct_PS_PRL_ELEM_STRUCT(chr, inpos, count);

function [t, outpos] = read_OP_PS_WORK_REQ_TYPE(chr, inpos, count)
  outpos = inpos + 4 * count;
  chr2=reshape(chr(inpos:inpos+count*4-1), 4, []);

function [t, outpos] = read_OP_PS_WORK_REQ_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 44 * count;
  chr2=reshape(chr(inpos:inpos+count*44-1), 44, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_PS_WORK_REQ_TYPE(chr2(41:44,:), 1, count);

function [t, outpos] = read_OP_PS_EXEC_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 3040 * count;
  chr2=reshape(chr(inpos:inpos+count*3040-1), 3040, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.rec_buf = read_s8(chr2(41:3040,:), 1, count*3000);

function [t, outpos] = read_OP_PS_TPS_LOG_TYPE(chr, inpos, count)
  outpos = inpos + 4 * count;
  chr2=reshape(chr(inpos:inpos+count*4-1), 4, []);
  t.ermes = read_n32(chr2(1:4,:), 1, count);

function [t, outpos] = read_OP_PS_TPS_LOG_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 44 * count;
  chr2=reshape(chr(inpos:inpos+count*44-1), 44, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_PS_TPS_LOG_TYPE(chr2(41:44,:), 1, count);

function [t, outpos] = read_OP_TPS_SNAP_GO_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 40 * count;
  chr2=reshape(chr(inpos:inpos+count*40-1), 40, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);

function [t, outpos] = read_OP_MPS_PRESCANINDEX_CHANGE_TYPE(chr, inpos, count)
  outpos = inpos + 4 * count;
  chr2=reshape(chr(inpos:inpos+count*4-1), 4, []);
  t.curr_prescan_index = read_s32(chr2(1:4,:), 1, count);

function [t, outpos] = read_OP_MPS_PRESCANINDEX_CHANGE_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 44 * count;
  chr2=reshape(chr(inpos:inpos+count*44-1), 44, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_MPS_PRESCANINDEX_CHANGE_TYPE(chr2(41:44,:), 1, count);

function [t, outpos] = read_OP_MPS_LOOP_STATUS_TYPE(chr, inpos, count)
  outpos = inpos + 8 * count;
  chr2=reshape(chr(inpos:inpos+count*8-1), 8, []);
  t.start_status = read_s32(chr2(1:4,:), 1, count);
  t.stop_status = read_s32(chr2(5:8,:), 1, count);

function [t, outpos] = read_OP_MPS_LOOP_STATUS_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 48 * count;
  chr2=reshape(chr(inpos:inpos+count*48-1), 48, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_MPS_LOOP_STATUS_TYPE(chr2(41:48,:), 1, count);

function [t, outpos] = read_OP_UPDATE_MX_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 212 * count;
  chr2=reshape(chr(inpos:inpos+count*212-1), 212, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_MxDoneInfo(chr2(41:212,:), 1, count);

function [t, outpos] = read_OP_REF_START_TYPE(chr, inpos, count)
  outpos = inpos + 8 * count;
  chr2=reshape(chr(inpos:inpos+count*8-1), 8, []);
  t.runnumber = read_long_int(chr2(1:4,:), 1, count);
  t.autolock = read_long_int(chr2(5:8,:), 1, count);

function [t, outpos] = read_OP_REF_START_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 48 * count;
  chr2=reshape(chr(inpos:inpos+count*48-1), 48, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_REF_START_TYPE(chr2(41:48,:), 1, count);

function [t, outpos] = read_OP_XMT_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 16 * count;
  chr2=reshape(chr(inpos:inpos+count*16-1), 16, []);
  t.nuc = read_s32(chr2(1:4,:), 1, count);
  t.gamma = read_f32(chr2(5:8,:), 1, count);
  t.ax = read_s32(chr2(9:12,:), 1, count);
  t.ermes = read_n32(chr2(13:16,:), 1, count);

function [t, outpos] = read_OP_GRADSHIM_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 340 * count;
  chr2=reshape(chr(inpos:inpos+count*340-1), 340, []);
  t.scan_run_num = read_s32(chr2(1:4,:), 1, count);
  t.alloc_ip = read_s32(chr2(5:8,:), 1, count);
  t.sq = read_s32(chr2(9:12,:), 1, count);
  t.psd_id = read_s32(chr2(13:16,:), 1, count);
  t.mode = read_s32(chr2(17:20,:), 1, count);
  t.timestamp = read_struct_timespec(chr2(21:28,:), 1, count);
  t.ermes = read_n32(chr2(29:32,:), 1, count);
  t.exam_number = read_s32(chr2(33:36,:), 1, count);
  t.fautoshim = read_s32(chr2(37:40,:), 1, count);
  t.fmultiGroup = read_s32(chr2(41:44,:), 1, count);
  t.startR = read_f32(chr2(45:48,:), 1, count);
  t.startA = read_f32(chr2(49:52,:), 1, count);
  t.startS = read_f32(chr2(53:56,:), 1, count);
  t.endR = read_f32(chr2(57:60,:), 1, count);
  t.endA = read_f32(chr2(61:64,:), 1, count);
  t.endS = read_f32(chr2(65:68,:), 1, count);
  t.coil_name = read_s8(chr2(69:93,:), 1, count*25);
  t.coilConfigParam = read_COIL_CONFIG_PARAM_TYPE(chr2(97:340,:), 1, count);

function [t, outpos] = read_OP_MODIFY_REQUEST_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 52 * count;
  chr2=reshape(chr(inpos:inpos+count*52-1), 52, []);
  t.r1 = read_s32(chr2(1:4,:), 1, count);
  t.r2 = read_s32(chr2(5:8,:), 1, count);
  t.tg = read_s32(chr2(9:12,:), 1, count);
  t.ax = read_s32(chr2(13:16,:), 1, count);
  t.dx = read_s32(chr2(17:20,:), 1, count);
  t.nuc = read_s32(chr2(21:24,:), 1, count);
  t.gamma = read_f32(chr2(25:28,:), 1, count);
  t.psd_ep = read_s8(chr2(29:44,:), 1, count*16);
  t.ermes = read_n32(chr2(45:48,:), 1, count);
  t.exciter_number = read_n32(chr2(49:52,:), 1, count);

function [t, outpos] = read_OP_GET_HW_SETTINGS_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 328 * count;
  chr2=reshape(chr(inpos:inpos+count*328-1), 328, []);
  t.r1 = read_s32(chr2(1:4,:), 1, count);
  t.r2 = read_s32(chr2(5:8,:), 1, count);
  t.tg = read_s32(chr2(9:12,:), 1, count);
  t.ax = read_s32(chr2(13:16,:), 1, count);
  t.nuc = read_s32(chr2(17:20,:), 1, count);
  t.gamma = read_f32(chr2(21:24,:), 1, count);
  t.psd_id = read_s32(chr2(25:28,:), 1, count);
  t.psd_ep = read_s8(chr2(29:44,:), 1, count*16);
  t.ermes = read_n32(chr2(45:48,:), 1, count);
  t.exam_number = read_s32(chr2(49:52,:), 1, count);
  t.exciter_number = read_n32(chr2(53:56,:), 1, count);
  t.coil_name = read_s8(chr2(57:81,:), 1, count*25);
  t.coilConfigParam = read_COIL_CONFIG_PARAM_TYPE(chr2(85:328,:), 1, count);

function [t, outpos] = read_OP_SPEC_SET_GRADSHIM_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 12 * count;
  chr2=reshape(chr(inpos:inpos+count*12-1), 12, []);
  t.gradient = read_int(chr2(1:4,:), 1, count);
  t.value = read_s32(chr2(5:8,:), 1, count);
  t.ermes = read_n32(chr2(9:12,:), 1, count);

function [t, outpos] = read_OP_SPEC_GET_GRADSHIM_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 16 * count;
  chr2=reshape(chr(inpos:inpos+count*16-1), 16, []);
  t.gx_shim = read_s32(chr2(1:4,:), 1, count);
  t.gy_shim = read_s32(chr2(5:8,:), 1, count);
  t.gz_shim = read_s32(chr2(9:12,:), 1, count);
  t.ermes = read_n32(chr2(13:16,:), 1, count);

function [t, outpos] = read_OP_APS_DFMSHIM_TYPE(chr, inpos, count)
  outpos = inpos + 20 * count;
  chr2=reshape(chr(inpos:inpos+count*20-1), 20, []);
  t.gxshim = read_f32(chr2(1:4,:), 1, count);
  t.gyshim = read_f32(chr2(5:8,:), 1, count);
  t.gzshim = read_f32(chr2(9:12,:), 1, count);
  t.gz2shim = read_f32(chr2(13:16,:), 1, count);
  t.shimchg_status = read_s32(chr2(17:20,:), 1, count);

function [t, outpos] = read_OP_APS_DFMSHIM_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 60 * count;
  chr2=reshape(chr(inpos:inpos+count*60-1), 60, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_APS_DFMSHIM_TYPE(chr2(41:60,:), 1, count);

function [t, outpos] = read_OP_APS_MODAVS_TYPE(chr, inpos, count)
  outpos = inpos + 16 * count;
  chr2=reshape(chr(inpos:inpos+count*16-1), 16, []);
  t.gxshim = read_f32(chr2(1:4,:), 1, count);
  t.gyshim = read_f32(chr2(5:8,:), 1, count);
  t.gzshim = read_f32(chr2(9:12,:), 1, count);
  t.shimchg_status = read_s32(chr2(13:16,:), 1, count);

function [t, outpos] = read_OP_APS_MODAVS_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 56 * count;
  chr2=reshape(chr(inpos:inpos+count*56-1), 56, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_APS_MODAVS_TYPE(chr2(41:56,:), 1, count);

function [t, outpos] = read_OP_APS_MODAWS_TYPE(chr, inpos, count)
  outpos = inpos + 16 * count;
  chr2=reshape(chr(inpos:inpos+count*16-1), 16, []);
  t.tip_start = read_s32(chr2(1:4,:), 1, count);
  t.tip_delta = read_s32(chr2(5:8,:), 1, count);
  t.tip_step = read_s32(chr2(9:12,:), 1, count);
  t.supchg_status = read_s32(chr2(13:16,:), 1, count);

function [t, outpos] = read_OP_APS_MODAWS_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 56 * count;
  chr2=reshape(chr(inpos:inpos+count*56-1), 56, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_APS_MODAWS_TYPE(chr2(41:56,:), 1, count);

function [t, outpos] = read_OP_APS_PSD_DOWNLOAD_TYPE(chr, inpos, count)
  outpos = inpos + 4 * count;
  chr2=reshape(chr(inpos:inpos+count*4-1), 4, []);
  t.flag = read_s32(chr2(1:4,:), 1, count);

function [t, outpos] = read_OP_APS_PSD_DOWNLOAD_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 44 * count;
  chr2=reshape(chr(inpos:inpos+count*44-1), 44, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_APS_PSD_DOWNLOAD_TYPE(chr2(41:44,:), 1, count);

function [t, outpos] = read_OP_APS_ASHIM_START_TYPE(chr, inpos, count)
  outpos = inpos + 132 * count;
  chr2=reshape(chr(inpos:inpos+count*132-1), 132, []);
  t.as_pass = read_s32(chr2(1:4,:), 1, count);
  t.plane_calc3 = read_s32(chr2(5:8,:), 1, count);
  t.def_plane = read_s32(chr2(9:12,:), 1, count);
  t.time_stamp = read_struct_timespec(chr2(13:20,:), 1, count);
  t.asxres = read_s32(chr2(21:24,:), 1, count);
  t.asyres = read_s32(chr2(25:28,:), 1, count);
  t.asbaseline = read_s32(chr2(29:32,:), 1, count);
  t.asrhblank = read_s32(chr2(33:36,:), 1, count);
  t.asptsize = read_s32(chr2(37:40,:), 1, count);
  t.opfov = read_f32(chr2(41:44,:), 1, count);
  t.transpose = read_s32(chr2(45:56,:), 1, count*3);
  t.rotation = read_s32(chr2(57:68,:), 1, count*3);
  t.cur_pos_x = read_s32(chr2(69:72,:), 1, count);
  t.cur_pos_y = read_s32(chr2(73:76,:), 1, count);
  t.cur_pos_z = read_s32(chr2(77:80,:), 1, count);
  t.cur_ax_x = read_s32(chr2(81:84,:), 1, count);
  t.cur_ax_y = read_s32(chr2(85:88,:), 1, count);
  t.cur_ax_z = read_s32(chr2(89:92,:), 1, count);
  t.cur_angle = read_s32(chr2(93:96,:), 1, count);
  t.field_strength = read_s32(chr2(97:100,:), 1, count);
  t.position = read_s32(chr2(101:104,:), 1, count);
  t.srec = read_s32(chr2(105:108,:), 1, count);
  t.erec = read_s32(chr2(109:112,:), 1, count);
  t.as_std_above_mean = read_f32(chr2(113:116,:), 1, count);
  t.as_max_2_floor = read_f32(chr2(117:120,:), 1, count);
  t.as_hard_floor = read_f32(chr2(121:124,:), 1, count);
  t.as_mask_ratio = read_f32(chr2(125:128,:), 1, count);
  t.vox_shim = read_s32(chr2(129:132,:), 1, count);

function [t, outpos] = read_OP_APS_ASHIM_START_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 172 * count;
  chr2=reshape(chr(inpos:inpos+count*172-1), 172, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_APS_ASHIM_START_TYPE(chr2(41:172,:), 1, count);

function [t, outpos] = read_OP_APS_ASHIM_DONE_TYPE(chr, inpos, count)
  outpos = inpos + 100 * count;
  chr2=reshape(chr(inpos:inpos+count*100-1), 100, []);
  t.vme_addr = read_n16(chr2(1:6,:), 1, count*3);
  t.filler = read_n16(chr2(7:8,:), 1, count);
  t.x = read_f32(chr2(9:20,:), 1, count*3);
  t.y = read_f32(chr2(21:32,:), 1, count*3);
  t.x2 = read_f32(chr2(33:44,:), 1, count*3);
  t.y2 = read_f32(chr2(45:56,:), 1, count*3);
  t.window = read_s32(chr2(57:60,:), 1, count);
  t.level = read_s32(chr2(61:64,:), 1, count);
  t.panel = read_s32(chr2(65:68,:), 1, count);
  t.recall_roi = read_s32(chr2(69:72,:), 1, count);
  t.ermes = read_n32(chr2(73:76,:), 1, count);
  t.points_used = read_f32(chr2(77:88,:), 1, count*3);
  t.ashim_status = read_s32(chr2(89:100,:), 1, count*3);

function [t, outpos] = read_OP_APS_ASHIM_DONE_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 140 * count;
  chr2=reshape(chr(inpos:inpos+count*140-1), 140, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_APS_ASHIM_DONE_TYPE(chr2(41:140,:), 1, count);

function [t, outpos] = read_OP_TOOLS_TYPE(chr, inpos, count)
  outpos = inpos + 28 * count;
  chr2=reshape(chr(inpos:inpos+count*28-1), 28, []);
  t.xshim = read_s32(chr2(1:4,:), 1, count);
  t.yshim = read_s32(chr2(5:8,:), 1, count);
  t.zshim = read_s32(chr2(9:12,:), 1, count);
  t.z2shim = read_s32(chr2(13:16,:), 1, count);
  t.zxshim = read_s32(chr2(17:20,:), 1, count);
  t.zyshim = read_s32(chr2(21:24,:), 1, count);
  t.filenum = read_s32(chr2(25:28,:), 1, count);

function [t, outpos] = read_OP_TOOLS_PACK_TYPE(chr, inpos, count)
  outpos = inpos + 68 * count;
  chr2=reshape(chr(inpos:inpos+count*68-1), 68, []);
  t.hdr = read_OP_HDR_TYPE(chr2(1:40,:), 1, count);
  t.req = read_OP_TOOLS_TYPE(chr2(41:68,:), 1, count);

function [t, outpos] = read_SUITEDATATYPE(chr, inpos, count)
  outpos = inpos + 116 * count;
  chr2=reshape(chr(inpos:inpos+count*116-1), 116, []);
  t.su_checksum = read_unsigned_long(chr2(1:4,:), 1, count);
  t.long_padding = read_unsigned_long(chr2(5:20,:), 1, count*4);
  t.int_padding = read_int(chr2(21:36,:), 1, count*4);
  t.su_uniq = read_short_int(chr2(37:38,:), 1, count);
  t.short_padding = read_short_int(chr2(39:52,:), 1, count*7);
  t.prodid = read_char(chr2(53:65,:), 1, count*13);
  t.su_diskid = read_char(chr2(66:66,:), 1, count);
  t.su_id = read_char(chr2(67:70,:), 1, count*4);
  t.su_verscre = read_char(chr2(71:72,:), 1, count*2);
  t.su_verscur = read_char(chr2(73:74,:), 1, count*2);
  t.su_padding = read_char(chr2(75:116,:), 1, count*42);

function [t, outpos] = read_EXAMDATATYPE(chr, inpos, count)
  outpos = inpos + 1040 * count;
  chr2=reshape(chr(inpos:inpos+count*1040-1), 1040, []);
  t.firstaxtime = read_double(chr2(1:8,:), 1, count);
  t.double_padding = read_double(chr2(9:80,:), 1, count*9);
  t.zerocell = read_float(chr2(81:84,:), 1, count);
  t.cellspace = read_float(chr2(85:88,:), 1, count);
  t.srctodet = read_float(chr2(89:92,:), 1, count);
  t.srctoiso = read_float(chr2(93:96,:), 1, count);
  t.float_padding = read_float(chr2(97:128,:), 1, count*8);
  t.ex_delta_cnt = read_long(chr2(129:132,:), 1, count);
  t.ex_complete = read_long(chr2(133:136,:), 1, count);
  t.ex_seriesct = read_long(chr2(137:140,:), 1, count);
  t.ex_numarch = read_long(chr2(141:144,:), 1, count);
  t.ex_numseries = read_long(chr2(145:148,:), 1, count);
  t.ex_numunser = read_long(chr2(149:152,:), 1, count);
  t.ex_toarchcnt = read_long(chr2(153:156,:), 1, count);
  t.ex_prospcnt = read_long(chr2(157:160,:), 1, count);
  t.ex_modelnum = read_long(chr2(161:164,:), 1, count);
  t.ex_modelcnt = read_long(chr2(165:168,:), 1, count);
  t.ex_checksum = read_unsigned_long(chr2(169:172,:), 1, count);
  t.long_padding = read_long(chr2(173:204,:), 1, count*8);
  t.numcells = read_int(chr2(205:208,:), 1, count);
  t.magstrength = read_int(chr2(209:212,:), 1, count);
  t.patweight = read_int(chr2(213:216,:), 1, count);
  t.ex_datetime = read_int(chr2(217:220,:), 1, count);
  t.ex_lastmod = read_int(chr2(221:224,:), 1, count);
  t.int_padding = read_int(chr2(225:272,:), 1, count*12);
  t.ex_no = read_unsigned_short_int(chr2(273:274,:), 1, count);
  t.ex_uniq = read_short_int(chr2(275:276,:), 1, count);
  t.detect = read_short_int(chr2(277:278,:), 1, count);
  t.tubetyp = read_short_int(chr2(279:280,:), 1, count);
  t.dastyp = read_short_int(chr2(281:282,:), 1, count);
  t.num_dcnk = read_short_int(chr2(283:284,:), 1, count);
  t.dcn_len = read_short_int(chr2(285:286,:), 1, count);
  t.dcn_density = read_short_int(chr2(287:288,:), 1, count);
  t.dcn_stepsize = read_short_int(chr2(289:290,:), 1, count);
  t.dcn_shiftcnt = read_short_int(chr2(291:292,:), 1, count);
  t.patage = read_short_int(chr2(293:294,:), 1, count);
  t.patian = read_short_int(chr2(295:296,:), 1, count);
  t.patsex = read_short_int(chr2(297:298,:), 1, count);
  t.ex_format = read_short_int(chr2(299:300,:), 1, count);
  t.trauma = read_short_int(chr2(301:302,:), 1, count);
  t.protocolflag = read_short_int(chr2(303:304,:), 1, count);
  t.study_status = read_short_int(chr2(305:306,:), 1, count);
  t.short_padding = read_short_int(chr2(307:328,:), 1, count*11);
  t.hist = read_char(chr2(329:389,:), 1, count*61);
  t.reqnum = read_char(chr2(390:402,:), 1, count*13);
  t.refphy = read_char(chr2(403:435,:), 1, count*33);
  t.diagrad = read_char(chr2(436:468,:), 1, count*33);
  t.op = read_char(chr2(469:472,:), 1, count*4);
  t.ex_desc = read_char(chr2(473:537,:), 1, count*65);
  t.ex_typ = read_char(chr2(538:540,:), 1, count*3);
  t.ex_sysid = read_char(chr2(541:549,:), 1, count*9);
  t.ex_alloc_key = read_char(chr2(550:562,:), 1, count*13);
  t.ex_diskid = read_char(chr2(563:563,:), 1, count);
  t.hospname = read_char(chr2(564:596,:), 1, count*33);
  t.patid = read_char(chr2(597:609,:), 1, count*13);
  t.patname = read_char(chr2(610:634,:), 1, count*25);
  t.ex_suid = read_char(chr2(635:638,:), 1, count*4);
  t.ex_verscre = read_char(chr2(639:640,:), 1, count*2);
  t.ex_verscur = read_char(chr2(641:642,:), 1, count*2);
  t.uniq_sys_id = read_char(chr2(643:658,:), 1, count*16);
  t.service_id = read_char(chr2(659:674,:), 1, count*16);
  t.mobile_loc = read_char(chr2(675:678,:), 1, count*4);
  t.study_uid = read_char(chr2(679:710,:), 1, count*32);
  t.refsopcuid = read_char(chr2(711:742,:), 1, count*32);
  t.refsopiuid = read_char(chr2(743:774,:), 1, count*32);
  t.patnameff = read_char(chr2(775:839,:), 1, count*65);
  t.patidff = read_char(chr2(840:904,:), 1, count*65);
  t.reqnumff = read_char(chr2(905:921,:), 1, count*17);
  t.dateofbirth = read_char(chr2(922:930,:), 1, count*9);
  t.mwlstudyuid = read_char(chr2(931:962,:), 1, count*32);
  t.mwlstudyid = read_char(chr2(963:978,:), 1, count*16);
  t.ex_padding = read_char(chr2(979:1040,:), 1, count*62);

function [t, outpos] = read_SERIESDATATYPE(chr, inpos, count)
  outpos = inpos + 2048 * count;
  chr2=reshape(chr(inpos:inpos+count*2048-1), 2048, []);
  t.double_padding = read_double(chr2(1:56,:), 1, count*7);
  t.se_pds_a = read_float(chr2(57:60,:), 1, count);
  t.se_pds_c = read_float(chr2(61:64,:), 1, count);
  t.se_pds_u = read_float(chr2(65:68,:), 1, count);
  t.lmhor = read_float(chr2(69:72,:), 1, count);
  t.start_loc = read_float(chr2(73:76,:), 1, count);
  t.end_loc = read_float(chr2(77:80,:), 1, count);
  t.echo1_alpha = read_float(chr2(81:84,:), 1, count);
  t.echo1_beta = read_float(chr2(85:88,:), 1, count);
  t.echo2_alpha = read_float(chr2(89:92,:), 1, count);
  t.echo2_beta = read_float(chr2(93:96,:), 1, count);
  t.echo3_alpha = read_float(chr2(97:100,:), 1, count);
  t.echo3_beta = read_float(chr2(101:104,:), 1, count);
  t.echo4_alpha = read_float(chr2(105:108,:), 1, count);
  t.echo4_beta = read_float(chr2(109:112,:), 1, count);
  t.echo5_alpha = read_float(chr2(113:116,:), 1, count);
  t.echo5_beta = read_float(chr2(117:120,:), 1, count);
  t.echo6_alpha = read_float(chr2(121:124,:), 1, count);
  t.echo6_beta = read_float(chr2(125:128,:), 1, count);
  t.echo7_alpha = read_float(chr2(129:132,:), 1, count);
  t.echo7_beta = read_float(chr2(133:136,:), 1, count);
  t.echo8_alpha = read_float(chr2(137:140,:), 1, count);
  t.echo8_beta = read_float(chr2(141:144,:), 1, count);
  t.float_padding = read_float(chr2(145:176,:), 1, count*8);
  t.se_checksum = read_unsigned_long(chr2(177:180,:), 1, count);
  t.se_complete = read_long(chr2(181:184,:), 1, count);
  t.se_numarch = read_long(chr2(185:188,:), 1, count);
  t.se_imagect = read_long(chr2(189:192,:), 1, count);
  t.se_numimages = read_long(chr2(193:196,:), 1, count);
  t.se_delta_cnt = read_long(chr2(197:200,:), 1, count);
  t.se_numunimg = read_long(chr2(201:204,:), 1, count);
  t.se_toarchcnt = read_long(chr2(205:208,:), 1, count);
  t.long_padding = read_long(chr2(209:240,:), 1, count*8);
  t.se_datetime = read_int(chr2(241:244,:), 1, count);
  t.se_actual_dt = read_int(chr2(245:248,:), 1, count);
  t.position = read_int(chr2(249:252,:), 1, count);
  t.entry = read_int(chr2(253:256,:), 1, count);
  t.se_lndmrkcnt = read_int(chr2(257:260,:), 1, count);
  t.se_lastmod = read_int(chr2(261:264,:), 1, count);
  t.ExpType = read_int(chr2(265:268,:), 1, count);
  t.TrRest = read_int(chr2(269:272,:), 1, count);
  t.TrActive = read_int(chr2(273:276,:), 1, count);
  t.DumAcq = read_int(chr2(277:280,:), 1, count);
  t.ExptTimePts = read_int(chr2(281:284,:), 1, count);
  t.int_padding = read_int(chr2(285:348,:), 1, count*16);
  t.se_exno = read_unsigned_short_int(chr2(349:350,:), 1, count);
  t.echo1_window = read_unsigned_short_int(chr2(351:352,:), 1, count);
  t.echo2_window = read_unsigned_short_int(chr2(353:354,:), 1, count);
  t.echo3_window = read_unsigned_short_int(chr2(355:356,:), 1, count);
  t.echo4_window = read_unsigned_short_int(chr2(357:358,:), 1, count);
  t.echo5_window = read_unsigned_short_int(chr2(359:360,:), 1, count);
  t.echo6_window = read_unsigned_short_int(chr2(361:362,:), 1, count);
  t.echo7_window = read_unsigned_short_int(chr2(363:364,:), 1, count);
  t.echo8_window = read_unsigned_short_int(chr2(365:366,:), 1, count);
  t.echo8_level = read_short_int(chr2(367:368,:), 1, count);
  t.echo7_level = read_short_int(chr2(369:370,:), 1, count);
  t.echo6_level = read_short_int(chr2(371:372,:), 1, count);
  t.echo5_level = read_short_int(chr2(373:374,:), 1, count);
  t.echo4_level = read_short_int(chr2(375:376,:), 1, count);
  t.echo3_level = read_short_int(chr2(377:378,:), 1, count);
  t.echo2_level = read_short_int(chr2(379:380,:), 1, count);
  t.echo1_level = read_short_int(chr2(381:382,:), 1, count);
  t.se_no = read_short_int(chr2(383:384,:), 1, count);
  t.se_typ = read_short_int(chr2(385:386,:), 1, count);
  t.se_source = read_short_int(chr2(387:388,:), 1, count);
  t.se_plane = read_short_int(chr2(389:390,:), 1, count);
  t.scan_type = read_short_int(chr2(391:392,:), 1, count);
  t.se_uniq = read_short_int(chr2(393:394,:), 1, count);
  t.se_contrast = read_short_int(chr2(395:396,:), 1, count);
  t.se_pseq = read_short_int(chr2(397:398,:), 1, count);
  t.se_sortorder = read_short_int(chr2(399:400,:), 1, count);
  t.se_nacq = read_short_int(chr2(401:402,:), 1, count);
  t.xbasest = read_short_int(chr2(403:404,:), 1, count);
  t.xbaseend = read_short_int(chr2(405:406,:), 1, count);
  t.xenhst = read_short_int(chr2(407:408,:), 1, count);
  t.xenhend = read_short_int(chr2(409:410,:), 1, count);
  t.table_entry = read_short_int(chr2(411:412,:), 1, count);
  t.SwingAngle = read_short_int(chr2(413:414,:), 1, count);
  t.LateralOffset = read_short_int(chr2(415:416,:), 1, count);
  t.GradientCoil = read_short_int(chr2(417:418,:), 1, count);
  t.se_subtype = read_short_int(chr2(419:420,:), 1, count);
  t.BWRT = read_short_int(chr2(421:422,:), 1, count);
  t.assetcal_serno = read_short_int(chr2(423:424,:), 1, count);
  t.assetcal_scnno = read_short_int(chr2(425:426,:), 1, count);
  t.content_qualifn = read_short_int(chr2(427:428,:), 1, count);
  t.purecal_serno = read_short_int(chr2(429:430,:), 1, count);
  t.purecal_scnno = read_short_int(chr2(431:432,:), 1, count);
  t.ideal = read_short_int(chr2(433:434,:), 1, count);
  t.short_padding = read_short_int(chr2(435:484,:), 1, count*25);
  t.se_verscre = read_char(chr2(485:486,:), 1, count*2);
  t.se_verscur = read_char(chr2(487:488,:), 1, count*2);
  t.se_suid = read_char(chr2(489:492,:), 1, count*4);
  t.se_alloc_key = read_char(chr2(493:505,:), 1, count*13);
  t.se_diskid = read_char(chr2(506:506,:), 1, count);
  t.se_desc = read_char(chr2(507:571,:), 1, count*65);
  t.pr_sysid = read_char(chr2(572:580,:), 1, count*9);
  t.pansysid = read_char(chr2(581:589,:), 1, count*9);
  t.anref = read_char(chr2(590:592,:), 1, count*3);
  t.prtcl = read_char(chr2(593:617,:), 1, count*25);
  t.start_ras = read_char(chr2(618:618,:), 1, count);
  t.end_ras = read_char(chr2(619:619,:), 1, count);
  t.series_uid = read_char(chr2(620:651,:), 1, count*32);
  t.landmark_uid = read_char(chr2(652:683,:), 1, count*32);
  t.equipmnt_uid = read_char(chr2(684:715,:), 1, count*32);
  t.refsopcuids = read_char(chr2(716:747,:), 1, count*32);
  t.refsopiuids = read_char(chr2(748:779,:), 1, count*32);
  t.schacitval = read_char(chr2(780:795,:), 1, count*16);
  t.schacitdesc = read_char(chr2(796:811,:), 1, count*16);
  t.schacitmea = read_char(chr2(812:875,:), 1, count*64);
  t.schprocstdesc = read_char(chr2(876:940,:), 1, count*65);
  t.schprocstid = read_char(chr2(941:956,:), 1, count*16);
  t.reqprocstid = read_char(chr2(957:972,:), 1, count*16);
  t.perprocstid = read_char(chr2(973:988,:), 1, count*16);
  t.perprocstdesc = read_char(chr2(989:1053,:), 1, count*65);
  t.reqprocstid2 = read_char(chr2(1054:1069,:), 1, count*16);
  t.reqprocstid3 = read_char(chr2(1070:1085,:), 1, count*16);
  t.schprocstid2 = read_char(chr2(1086:1101,:), 1, count*16);
  t.schprocstid3 = read_char(chr2(1102:1117,:), 1, count*16);
  t.refImgUID = read_char(chr2(1118:1245,:), 1, count*128);
  t.PdgmStr = read_char(chr2(1246:1309,:), 1, count*64);
  t.PdgmDesc = read_char(chr2(1310:1565,:), 1, count*256);
  t.PdgmUID = read_char(chr2(1566:1629,:), 1, count*64);
  t.ApplName = read_char(chr2(1630:1645,:), 1, count*16);
  t.ApplVer = read_char(chr2(1646:1661,:), 1, count*16);
  t.asset_appl = read_char(chr2(1662:1673,:), 1, count*12);
  t.scic_a = read_char(chr2(1674:1705,:), 1, count*32);
  t.scic_s = read_char(chr2(1706:1737,:), 1, count*32);
  t.scic_c = read_char(chr2(1738:1769,:), 1, count*32);
  t.pure_cfg_params = read_char(chr2(1770:1833,:), 1, count*64);
  t.operator_new = read_char(chr2(1834:1898,:), 1, count*65);
  t.se_padding = read_char(chr2(1899:2048,:), 1, count*150);

function [t, outpos] = read_MRIMAGEDATATYPE(chr, inpos, count)
  outpos = inpos + 2048 * count;
  chr2=reshape(chr(inpos:inpos+count*2048-1), 2048, []);
  t.double_padding = read_double(chr2(1:64,:), 1, count*8);
  t.dfov = read_float(chr2(65:68,:), 1, count);
  t.dfov_rect = read_float(chr2(69:72,:), 1, count);
  t.sctime = read_float(chr2(73:76,:), 1, count);
  t.slthick = read_float(chr2(77:80,:), 1, count);
  t.scanspacing = read_float(chr2(81:84,:), 1, count);
  t.loc = read_float(chr2(85:88,:), 1, count);
  t.tbldlta = read_float(chr2(89:92,:), 1, count);
  t.nex = read_float(chr2(93:96,:), 1, count);
  t.reptime = read_float(chr2(97:100,:), 1, count);
  t.saravg = read_float(chr2(101:104,:), 1, count);
  t.sarpeak = read_float(chr2(105:108,:), 1, count);
  t.pausetime = read_float(chr2(109:112,:), 1, count);
  t.vbw = read_float(chr2(113:116,:), 1, count);
  t.user0 = read_float(chr2(117:120,:), 1, count);
  t.user1 = read_float(chr2(121:124,:), 1, count);
  t.user2 = read_float(chr2(125:128,:), 1, count);
  t.user3 = read_float(chr2(129:132,:), 1, count);
  t.user4 = read_float(chr2(133:136,:), 1, count);
  t.user5 = read_float(chr2(137:140,:), 1, count);
  t.user6 = read_float(chr2(141:144,:), 1, count);
  t.user7 = read_float(chr2(145:148,:), 1, count);
  t.user8 = read_float(chr2(149:152,:), 1, count);
  t.user9 = read_float(chr2(153:156,:), 1, count);
  t.user10 = read_float(chr2(157:160,:), 1, count);
  t.user11 = read_float(chr2(161:164,:), 1, count);
  t.user12 = read_float(chr2(165:168,:), 1, count);
  t.user13 = read_float(chr2(169:172,:), 1, count);
  t.user14 = read_float(chr2(173:176,:), 1, count);
  t.user15 = read_float(chr2(177:180,:), 1, count);
  t.user16 = read_float(chr2(181:184,:), 1, count);
  t.user17 = read_float(chr2(185:188,:), 1, count);
  t.user18 = read_float(chr2(189:192,:), 1, count);
  t.user19 = read_float(chr2(193:196,:), 1, count);
  t.user20 = read_float(chr2(197:200,:), 1, count);
  t.user21 = read_float(chr2(201:204,:), 1, count);
  t.user22 = read_float(chr2(205:208,:), 1, count);
  t.proj_ang = read_float(chr2(209:212,:), 1, count);
  t.concat_sat = read_float(chr2(213:216,:), 1, count);
  t.user23 = read_float(chr2(217:220,:), 1, count);
  t.user24 = read_float(chr2(221:224,:), 1, count);
  t.x_axis_rot = read_float(chr2(225:228,:), 1, count);
  t.y_axis_rot = read_float(chr2(229:232,:), 1, count);
  t.z_axis_rot = read_float(chr2(233:236,:), 1, count);
  t.ihtagfa = read_float(chr2(237:240,:), 1, count);
  t.ihtagor = read_float(chr2(241:244,:), 1, count);
  t.ihbspti = read_float(chr2(245:248,:), 1, count);
  t.rtia_timer = read_float(chr2(249:252,:), 1, count);
  t.fps = read_float(chr2(253:256,:), 1, count);
  t.vencscale = read_float(chr2(257:260,:), 1, count);
  t.dbdt = read_float(chr2(261:264,:), 1, count);
  t.dbdtper = read_float(chr2(265:268,:), 1, count);
  t.estdbdtper = read_float(chr2(269:272,:), 1, count);
  t.estdbdtts = read_float(chr2(273:276,:), 1, count);
  t.saravghead = read_float(chr2(277:280,:), 1, count);
  t.neg_scanspacing = read_float(chr2(281:284,:), 1, count);
  t.user25 = read_float(chr2(285:288,:), 1, count);
  t.user26 = read_float(chr2(289:292,:), 1, count);
  t.user27 = read_float(chr2(293:296,:), 1, count);
  t.user28 = read_float(chr2(297:300,:), 1, count);
  t.user29 = read_float(chr2(301:304,:), 1, count);
  t.user30 = read_float(chr2(305:308,:), 1, count);
  t.user31 = read_float(chr2(309:312,:), 1, count);
  t.user32 = read_float(chr2(313:316,:), 1, count);
  t.user33 = read_float(chr2(317:320,:), 1, count);
  t.user34 = read_float(chr2(321:324,:), 1, count);
  t.user35 = read_float(chr2(325:328,:), 1, count);
  t.user36 = read_float(chr2(329:332,:), 1, count);
  t.user37 = read_float(chr2(333:336,:), 1, count);
  t.user38 = read_float(chr2(337:340,:), 1, count);
  t.user39 = read_float(chr2(341:344,:), 1, count);
  t.user40 = read_float(chr2(345:348,:), 1, count);
  t.user41 = read_float(chr2(349:352,:), 1, count);
  t.user42 = read_float(chr2(353:356,:), 1, count);
  t.user43 = read_float(chr2(357:360,:), 1, count);
  t.user44 = read_float(chr2(361:364,:), 1, count);
  t.user45 = read_float(chr2(365:368,:), 1, count);
  t.user46 = read_float(chr2(369:372,:), 1, count);
  t.user47 = read_float(chr2(373:376,:), 1, count);
  t.user48 = read_float(chr2(377:380,:), 1, count);
  t.RegressorVal = read_float(chr2(381:384,:), 1, count);
  t.SliceAsset = read_float(chr2(385:388,:), 1, count);
  t.PhaseAsset = read_float(chr2(389:392,:), 1, count);
  t.sarValues = read_float(chr2(393:408,:), 1, count*4);
  t.shim_fov = read_float(chr2(409:416,:), 1, count*2);
  t.shim_ctr_R = read_float(chr2(417:424,:), 1, count*2);
  t.shim_ctr_A = read_float(chr2(425:432,:), 1, count*2);
  t.shim_ctr_S = read_float(chr2(433:440,:), 1, count*2);
  t.dim_X = read_float(chr2(441:444,:), 1, count);
  t.dim_Y = read_float(chr2(445:448,:), 1, count);
  t.pixsize_X = read_float(chr2(449:452,:), 1, count);
  t.pixsize_Y = read_float(chr2(453:456,:), 1, count);
  t.ctr_R = read_float(chr2(457:460,:), 1, count);
  t.ctr_A = read_float(chr2(461:464,:), 1, count);
  t.ctr_S = read_float(chr2(465:468,:), 1, count);
  t.norm_R = read_float(chr2(469:472,:), 1, count);
  t.norm_A = read_float(chr2(473:476,:), 1, count);
  t.norm_S = read_float(chr2(477:480,:), 1, count);
  t.tlhc_R = read_float(chr2(481:484,:), 1, count);
  t.tlhc_A = read_float(chr2(485:488,:), 1, count);
  t.tlhc_S = read_float(chr2(489:492,:), 1, count);
  t.trhc_R = read_float(chr2(493:496,:), 1, count);
  t.trhc_A = read_float(chr2(497:500,:), 1, count);
  t.trhc_S = read_float(chr2(501:504,:), 1, count);
  t.brhc_R = read_float(chr2(505:508,:), 1, count);
  t.brhc_A = read_float(chr2(509:512,:), 1, count);
  t.brhc_S = read_float(chr2(513:516,:), 1, count);
  t.float_padding = read_float(chr2(517:644,:), 1, count*32);
  t.cal_fldstr = read_unsigned_long(chr2(645:648,:), 1, count);
  t.im_checksum = read_unsigned_long(chr2(649:652,:), 1, count);
  t.user_usage_tag = read_unsigned_long(chr2(653:656,:), 1, count);
  t.user_fill_mapMSW = read_unsigned_long(chr2(657:660,:), 1, count);
  t.user_fill_mapLSW = read_unsigned_long(chr2(661:664,:), 1, count);
  t.im_archived = read_long(chr2(665:668,:), 1, count);
  t.im_complete = read_long(chr2(669:672,:), 1, count);
  t.long_padding = read_long(chr2(673:704,:), 1, count*8);
  t.im_datetime = read_int(chr2(705:708,:), 1, count);
  t.im_actual_dt = read_int(chr2(709:712,:), 1, count);
  t.tr = read_int(chr2(713:716,:), 1, count);
  t.ti = read_int(chr2(717:720,:), 1, count);
  t.te = read_int(chr2(721:724,:), 1, count);
  t.te2 = read_int(chr2(725:728,:), 1, count);
  t.tdel = read_int(chr2(729:732,:), 1, count);
  t.mindat = read_int(chr2(733:736,:), 1, count);
  t.obplane = read_int(chr2(737:740,:), 1, count);
  t.slocfov = read_int(chr2(741:744,:), 1, count);
  t.obsolete1 = read_int(chr2(745:748,:), 1, count);
  t.obsolete2 = read_int(chr2(749:752,:), 1, count);
  t.user_bitmap = read_int(chr2(753:756,:), 1, count);
  t.iopt = read_int(chr2(757:760,:), 1, count);
  t.psd_datetime = read_int(chr2(761:764,:), 1, count);
  t.rawrunnum = read_int(chr2(765:768,:), 1, count);
  t.intr_del = read_int(chr2(769:772,:), 1, count);
  t.im_lastmod = read_int(chr2(773:776,:), 1, count);
  t.im_pds_a = read_int(chr2(777:780,:), 1, count);
  t.im_pds_c = read_int(chr2(781:784,:), 1, count);
  t.im_pds_u = read_int(chr2(785:788,:), 1, count);
  t.thresh_min1 = read_int(chr2(789:792,:), 1, count);
  t.thresh_max1 = read_int(chr2(793:796,:), 1, count);
  t.thresh_min2 = read_int(chr2(797:800,:), 1, count);
  t.thresh_max2 = read_int(chr2(801:804,:), 1, count);
  t.numslabs = read_int(chr2(805:808,:), 1, count);
  t.locsperslab = read_int(chr2(809:812,:), 1, count);
  t.overlaps = read_int(chr2(813:816,:), 1, count);
  t.slop_int_4 = read_int(chr2(817:820,:), 1, count);
  t.dfax = read_int(chr2(821:824,:), 1, count);
  t.fphase = read_int(chr2(825:828,:), 1, count);
  t.offsetfreq = read_int(chr2(829:832,:), 1, count);
  t.b_value = read_int(chr2(833:836,:), 1, count);
  t.iopt2 = read_int(chr2(837:840,:), 1, count);
  t.ihtagging = read_int(chr2(841:844,:), 1, count);
  t.ihtagspc = read_int(chr2(845:848,:), 1, count);
  t.ihfcineim = read_int(chr2(849:852,:), 1, count);
  t.ihfcinent = read_int(chr2(853:856,:), 1, count);
  t.num_seg = read_int(chr2(857:860,:), 1, count);
  t.oprtarr = read_int(chr2(861:864,:), 1, count);
  t.averages = read_int(chr2(865:868,:), 1, count);
  t.station_index = read_int(chr2(869:872,:), 1, count);
  t.station_total = read_int(chr2(873:876,:), 1, count);
  t.iopt3 = read_int(chr2(877:880,:), 1, count);
  t.delAcq = read_int(chr2(881:884,:), 1, count);
  t.rxmbloblen = read_int(chr2(885:888,:), 1, count);
  t.im_no = read_int(chr2(893:896,:), 1, count);
  t.imgrx = read_int(chr2(897:900,:), 1, count);
  t.int_padding = read_int(chr2(901:1020,:), 1, count*30);
  t.imatrix_X = read_short_int(chr2(1021:1022,:), 1, count);
  t.imatrix_Y = read_short_int(chr2(1023:1024,:), 1, count);
  t.im_exno = read_unsigned_short_int(chr2(1025:1026,:), 1, count);
  t.img_window = read_unsigned_short_int(chr2(1027:1028,:), 1, count);
  t.img_level = read_short_int(chr2(1029:1030,:), 1, count);
  t.numecho = read_short_int(chr2(1031:1032,:), 1, count);
  t.echonum = read_short_int(chr2(1033:1034,:), 1, count);
  t.im_uniq = read_short_int(chr2(1035:1036,:), 1, count);
  t.im_seno = read_short_int(chr2(1037:1038,:), 1, count);
  t.contmode = read_short_int(chr2(1039:1040,:), 1, count);
  t.serrx = read_short_int(chr2(1041:1042,:), 1, count);
  t.screenformat = read_short_int(chr2(1043:1044,:), 1, count);
  t.plane = read_short_int(chr2(1045:1046,:), 1, count);
  t.im_compress = read_short_int(chr2(1047:1048,:), 1, count);
  t.im_scouttype = read_short_int(chr2(1049:1050,:), 1, count);
  t.contig = read_short_int(chr2(1051:1052,:), 1, count);
  t.hrtrate = read_short_int(chr2(1053:1054,:), 1, count);
  t.trgwindow = read_short_int(chr2(1055:1056,:), 1, count);
  t.imgpcyc = read_short_int(chr2(1057:1058,:), 1, count);
  t.obsolete3 = read_short_int(chr2(1059:1060,:), 1, count);
  t.obsolete4 = read_short_int(chr2(1061:1062,:), 1, count);
  t.obsolete5 = read_short_int(chr2(1063:1064,:), 1, count);
  t.mr_flip = read_short_int(chr2(1065:1066,:), 1, count);
  t.cphase = read_short_int(chr2(1067:1068,:), 1, count);
  t.swappf = read_short_int(chr2(1069:1070,:), 1, count);
  t.pauseint = read_short_int(chr2(1071:1072,:), 1, count);
  t.obsolete6 = read_short_int(chr2(1073:1074,:), 1, count);
  t.obsolete7 = read_short_int(chr2(1075:1076,:), 1, count);
  t.obsolete8 = read_short_int(chr2(1077:1078,:), 1, count);
  t.not_used_1 = read_short_int(chr2(1079:1080,:), 1, count);
  t.imode = read_short_int(chr2(1081:1082,:), 1, count);
  t.pseq = read_short_int(chr2(1083:1084,:), 1, count);
  t.pseqmode = read_short_int(chr2(1085:1086,:), 1, count);
  t.fMRI100K = read_short_int(chr2(1087:1088,:), 1, count);
  t.ctyp = read_short_int(chr2(1089:1090,:), 1, count);
  t.surfctyp = read_short_int(chr2(1091:1092,:), 1, count);
  t.surfcext = read_short_int(chr2(1093:1094,:), 1, count);
  t.supp_tech = read_short_int(chr2(1095:1096,:), 1, count);
  t.slquant = read_short_int(chr2(1097:1098,:), 1, count);
  t.gpre = read_short_int(chr2(1099:1100,:), 1, count);
  t.satbits = read_short_int(chr2(1101:1102,:), 1, count);
  t.scic = read_short_int(chr2(1103:1104,:), 1, count);
  t.satxloc1 = read_short_int(chr2(1105:1106,:), 1, count);
  t.satxloc2 = read_short_int(chr2(1107:1108,:), 1, count);
  t.satyloc1 = read_short_int(chr2(1109:1110,:), 1, count);
  t.satyloc2 = read_short_int(chr2(1111:1112,:), 1, count);
  t.satzloc1 = read_short_int(chr2(1113:1114,:), 1, count);
  t.satzloc2 = read_short_int(chr2(1115:1116,:), 1, count);
  t.satxthick = read_short_int(chr2(1117:1118,:), 1, count);
  t.satythick = read_short_int(chr2(1119:1120,:), 1, count);
  t.satzthick = read_short_int(chr2(1121:1122,:), 1, count);
  t.flax = read_short_int(chr2(1123:1124,:), 1, count);
  t.venc = read_short_int(chr2(1125:1126,:), 1, count);
  t.thk_disclmr = read_short_int(chr2(1127:1128,:), 1, count);
  t.obsolete9 = read_short_int(chr2(1129:1130,:), 1, count);
  t.obsolete10 = read_short_int(chr2(1131:1132,:), 1, count);
  t.image_type = read_short_int(chr2(1133:1134,:), 1, count);
  t.vas_collapse = read_short_int(chr2(1135:1136,:), 1, count);
  t.proj_alg = read_short_int(chr2(1137:1138,:), 1, count);
  t.echo_trn_len = read_short_int(chr2(1139:1140,:), 1, count);
  t.frac_echo = read_short_int(chr2(1141:1142,:), 1, count);
  t.prep_pulse = read_short_int(chr2(1143:1144,:), 1, count);
  t.cphasenum = read_short_int(chr2(1145:1146,:), 1, count);
  t.var_echo = read_short_int(chr2(1147:1148,:), 1, count);
  t.scanactno = read_short_int(chr2(1149:1150,:), 1, count);
  t.vasflags = read_short_int(chr2(1151:1152,:), 1, count);
  t.integrity = read_short_int(chr2(1153:1154,:), 1, count);
  t.freq_dir = read_short_int(chr2(1155:1156,:), 1, count);
  t.vas_mode = read_short_int(chr2(1157:1158,:), 1, count);
  t.hole = read_short_int(chr2(1159:1160,:), 1, count);
  t.pscopts = read_short_int(chr2(1161:1162,:), 1, count);
  t.obsolete11 = read_short_int(chr2(1163:1164,:), 1, count);
  t.obsolete12 = read_short_int(chr2(1165:1166,:), 1, count);
  t.obsolete13 = read_short_int(chr2(1167:1168,:), 1, count);
  t.unoriginal = read_short_int(chr2(1169:1170,:), 1, count);
  t.interleaves = read_short_int(chr2(1171:1172,:), 1, count);
  t.effechospace = read_short_int(chr2(1173:1174,:), 1, count);
  t.viewsperseg = read_short_int(chr2(1175:1176,:), 1, count);
  t.rbpm = read_short_int(chr2(1177:1178,:), 1, count);
  t.rtpoint = read_short_int(chr2(1179:1180,:), 1, count);
  t.rcvrtype = read_short_int(chr2(1181:1182,:), 1, count);
  t.sarMode = read_short_int(chr2(1183:1184,:), 1, count);
  t.dBdtMode = read_short_int(chr2(1185:1186,:), 1, count);
  t.govBody = read_short_int(chr2(1187:1188,:), 1, count);
  t.sarDefinition = read_short_int(chr2(1189:1190,:), 1, count);
  t.no_shimvol = read_short_int(chr2(1191:1192,:), 1, count);
  t.shim_vol_type = read_short_int(chr2(1193:1194,:), 1, count);
  t.current_phase = read_short_int(chr2(1195:1196,:), 1, count);
  t.art_level = read_short_int(chr2(1197:1198,:), 1, count);
  t.slice_group_number = read_short_int(chr2(1199:1200,:), 1, count);
  t.number_of_slice_groups = read_short_int(chr2(1201:1202,:), 1, count);
  t.show_in_autoview = read_short_int(chr2(1203:1204,:), 1, count);
  t.slice_number_inGroup = read_short_int(chr2(1205:1206,:), 1, count);
  t.short_padding = read_short_int(chr2(1207:1272,:), 1, count*33);
  t.psdname = read_char(chr2(1273:1305,:), 1, count*33);
  t.proj_name = read_char(chr2(1306:1318,:), 1, count*13);
  t.psd_iname = read_char(chr2(1319:1331,:), 1, count*13);
  t.im_diskid = read_char(chr2(1332:1332,:), 1, count);
  t.pdid = read_char(chr2(1333:1346,:), 1, count*14);
  t.im_suid = read_char(chr2(1347:1350,:), 1, count*4);
  t.contrastIV = read_char(chr2(1351:1367,:), 1, count*17);
  t.contrastOral = read_char(chr2(1368:1384,:), 1, count*17);
  t.loc_ras = read_char(chr2(1385:1385,:), 1, count);
  t.forimgrev = read_char(chr2(1386:1389,:), 1, count*4);
  t.cname = read_char(chr2(1390:1406,:), 1, count*17);
  t.im_verscre = read_char(chr2(1407:1408,:), 1, count*2);
  t.im_verscur = read_char(chr2(1409:1410,:), 1, count*2);
  t.im_alloc_key = read_char(chr2(1411:1423,:), 1, count*13);
  t.ref_img = read_char(chr2(1424:1424,:), 1, count);
  t.sum_img = read_char(chr2(1425:1425,:), 1, count);
  t.filter_mode = read_char(chr2(1426:1441,:), 1, count*16);
  t.slop_str_2 = read_char(chr2(1442:1457,:), 1, count*16);
  t.image_uid = read_char(chr2(1458:1489,:), 1, count*32);
  t.sop_uid = read_char(chr2(1490:1521,:), 1, count*32);
  t.GEcname = read_char(chr2(1522:1545,:), 1, count*24);
  t.usedCoilData = read_char(chr2(1546:1645,:), 1, count*100);
  t.astcalseriesuid = read_char(chr2(1646:1677,:), 1, count*32);
  t.purecalseriesuid = read_char(chr2(1678:1709,:), 1, count*32);
  t.xml_psc_shm_vol = read_char(chr2(1710:1741,:), 1, count*32);
  t.rxmpath = read_char(chr2(1742:1805,:), 1, count*64);
  t.psdnameannot = read_char(chr2(1806:1838,:), 1, count*33);
  t.img_hdr_padding = read_char(chr2(1839:2048,:), 1, count*210);

function [t, outpos] = read_dbkey_exam_type(chr, inpos, count)
  [t, outpos] = read_unsigned_short_int(chr, inpos, count);

function [t, outpos] = read_dbkey_magic_type(chr, inpos, count)
  [t, outpos] = read_short_int(chr, inpos, count);

function [t, outpos] = read_dbkey_series_type(chr, inpos, count)
  [t, outpos] = read_short_int(chr, inpos, count);

function [t, outpos] = read_dbkey_image_type(chr, inpos, count)
  [t, outpos] = read_int(chr, inpos, count);

function [t, outpos] = read_struct_DbKeyNamer(chr, inpos, count)
  outpos = inpos + 16 * count;
  chr2=reshape(chr(inpos:inpos+count*16-1), 16, []);
  t.su_id = read_char(chr2(1:4,:), 1, count*4);
  t.mg_no = read_dbkey_magic_type(chr2(5:6,:), 1, count);
  t.ex_no = read_dbkey_exam_type(chr2(7:8,:), 1, count);
  t.se_no = read_dbkey_series_type(chr2(9:10,:), 1, count);
  t.im_no = read_dbkey_image_type(chr2(13:16,:), 1, count);

function [t, outpos] = read_DbKey(chr, inpos, count)
  [t, outpos] = read_struct_DbKeyNamer(chr, inpos, count);

function [t, outpos] = read_struct_AllocStructNamer(chr, inpos, count)
  outpos = inpos + 160 * count;
  chr2=reshape(chr(inpos:inpos+count*160-1), 160, []);
  t.suite = read_char(chr2(1:4,:), 1, count*4);
  t.disk_id = read_char(chr2(5:5,:), 1, count);
  t.prodid = read_char(chr2(6:18,:), 1, count*13);
  t.exam = read_unsigned_short_int(chr2(19:20,:), 1, count);
  t.exam_timestamp = read_int(chr2(21:24,:), 1, count);
  t.ex_type = read_char(chr2(25:27,:), 1, count*3);
  t.patient_name = read_char(chr2(28:52,:), 1, count*25);
  t.patient_id = read_char(chr2(53:65,:), 1, count*13);
  t.series = read_short_int(chr2(67:68,:), 1, count);
  t.series_timestamp = read_int(chr2(69:72,:), 1, count);
  t.sysid = read_char(chr2(73:81,:), 1, count*9);
  t.image = read_short_int(chr2(83:84,:), 1, count);
  t.image_timestamp = read_int(chr2(85:88,:), 1, count);
  t.series_type = read_short_int(chr2(89:90,:), 1, count);
  t.source_series = read_short_int(chr2(91:92,:), 1, count);
  t.hospital = read_char(chr2(93:125,:), 1, count*33);
  t.pan_sysid = read_char(chr2(126:134,:), 1, count*9);
  t.image_alloc_cnt = read_short_int(chr2(135:136,:), 1, count);
  t.suite_magic = read_short_int(chr2(137:138,:), 1, count);
  t.exam_magic = read_short_int(chr2(139:140,:), 1, count);
  t.series_magic = read_short_int(chr2(141:142,:), 1, count);
  t.pixelHeight = read_int(chr2(145:148,:), 1, count);
  t.pixelWidth = read_int(chr2(149:152,:), 1, count);
  t.pixelDepth = read_int(chr2(153:156,:), 1, count);
  t.pixelCompType = read_int(chr2(157:160,:), 1, count);

function [t, outpos] = read_AllocStruct(chr, inpos, count)
  [t, outpos] = read_struct_AllocStructNamer(chr, inpos, count);

function [t, outpos] = read_RDB_MULTI_RCV_TYPE(chr, inpos, count)
  outpos = inpos + 4 * count;
  chr2=reshape(chr(inpos:inpos+count*4-1), 4, []);
  t.start_rcv = read_short(chr2(1:2,:), 1, count);
  t.stop_rcv = read_short(chr2(3:4,:), 1, count);

function [t, outpos] = read_RDB_HEADER_REC(chr, inpos, count)
  outpos = inpos + 2048 * count;
  chr2=reshape(chr(inpos:inpos+count*2048-1), 2048, []);
  t.rdb_hdr_rdbm_rev = read_float(chr2(1:4,:), 1, count);
  t.rdb_hdr_run_int = read_long(chr2(5:8,:), 1, count);
  t.rdb_hdr_scan_seq = read_short(chr2(9:10,:), 1, count);
  t.rdb_hdr_run_char = read_char(chr2(11:16,:), 1, count*6);
  t.rdb_hdr_scan_date = read_char(chr2(17:26,:), 1, count*10);
  t.rdb_hdr_scan_time = read_char(chr2(27:34,:), 1, count*8);
  t.rdb_hdr_logo = read_char(chr2(35:44,:), 1, count*10);
  t.rdb_hdr_file_contents = read_short(chr2(45:46,:), 1, count);
  t.rdb_hdr_lock_mode = read_short(chr2(47:48,:), 1, count);
  t.rdb_hdr_dacq_ctrl = read_short(chr2(49:50,:), 1, count);
  t.rdb_hdr_recon_ctrl = read_short(chr2(51:52,:), 1, count);
  t.rdb_hdr_exec_ctrl = read_short(chr2(53:54,:), 1, count);
  t.rdb_hdr_scan_type = read_short(chr2(55:56,:), 1, count);
  t.rdb_hdr_data_collect_type = read_short(chr2(57:58,:), 1, count);
  t.rdb_hdr_data_format = read_short(chr2(59:60,:), 1, count);
  t.rdb_hdr_recon = read_short(chr2(61:62,:), 1, count);
  t.rdb_hdr_datacq = read_short(chr2(63:64,:), 1, count);
  t.rdb_hdr_npasses = read_short(chr2(65:66,:), 1, count);
  t.rdb_hdr_npomp = read_short(chr2(67:68,:), 1, count);
  t.rdb_hdr_nslices = read_unsigned_short(chr2(69:70,:), 1, count);
  t.rdb_hdr_nechoes = read_short(chr2(71:72,:), 1, count);
  t.rdb_hdr_navs = read_short(chr2(73:74,:), 1, count);
  t.rdb_hdr_nframes = read_short(chr2(75:76,:), 1, count);
  t.rdb_hdr_baseline_views = read_short(chr2(77:78,:), 1, count);
  t.rdb_hdr_hnover = read_short(chr2(79:80,:), 1, count);
  t.rdb_hdr_frame_size = read_unsigned_short(chr2(81:82,:), 1, count);
  t.rdb_hdr_point_size = read_short(chr2(83:84,:), 1, count);
  t.rdb_hdr_vquant = read_short(chr2(85:86,:), 1, count);
  t.rdb_hdr_cheart = read_short(chr2(87:88,:), 1, count);
  t.rdb_hdr_ctr = read_float(chr2(89:92,:), 1, count);
  t.rdb_hdr_ctrr = read_float(chr2(93:96,:), 1, count);
  t.rdb_hdr_initpass = read_short(chr2(97:98,:), 1, count);
  t.rdb_hdr_incrpass = read_short(chr2(99:100,:), 1, count);
  t.rdb_hdr_method_ctrl = read_short(chr2(101:102,:), 1, count);
  t.rdb_hdr_da_xres = read_unsigned_short(chr2(103:104,:), 1, count);
  t.rdb_hdr_da_yres = read_short(chr2(105:106,:), 1, count);
  t.rdb_hdr_rc_xres = read_short(chr2(107:108,:), 1, count);
  t.rdb_hdr_rc_yres = read_short(chr2(109:110,:), 1, count);
  t.rdb_hdr_im_size = read_short(chr2(111:112,:), 1, count);
  t.rdb_hdr_rc_zres = read_long(chr2(113:116,:), 1, count);
  t.rdb_hdr_raw_pass_size = read_unsigned_long_int(chr2(117:120,:), 1, count);
  t.rdb_hdr_sspsave = read_unsigned_long_int(chr2(121:124,:), 1, count);
  t.rdb_hdr_udasave = read_unsigned_long_int(chr2(125:128,:), 1, count);
  t.rdb_hdr_fermi_radius = read_float(chr2(129:132,:), 1, count);
  t.rdb_hdr_fermi_width = read_float(chr2(133:136,:), 1, count);
  t.rdb_hdr_fermi_ecc = read_float(chr2(137:140,:), 1, count);
  t.rdb_hdr_clip_min = read_float(chr2(141:144,:), 1, count);
  t.rdb_hdr_clip_max = read_float(chr2(145:148,:), 1, count);
  t.rdb_hdr_default_offset = read_float(chr2(149:152,:), 1, count);
  t.rdb_hdr_xoff = read_float(chr2(153:156,:), 1, count);
  t.rdb_hdr_yoff = read_float(chr2(157:160,:), 1, count);
  t.rdb_hdr_nwin = read_float(chr2(161:164,:), 1, count);
  t.rdb_hdr_ntran = read_float(chr2(165:168,:), 1, count);
  t.rdb_hdr_scalei = read_float(chr2(169:172,:), 1, count);
  t.rdb_hdr_scaleq = read_float(chr2(173:176,:), 1, count);
  t.rdb_hdr_rotation = read_short(chr2(177:178,:), 1, count);
  t.rdb_hdr_transpose = read_short(chr2(179:180,:), 1, count);
  t.rdb_hdr_kissoff_views = read_short(chr2(181:182,:), 1, count);
  t.rdb_hdr_slblank = read_short(chr2(183:184,:), 1, count);
  t.rdb_hdr_gradcoil = read_short(chr2(185:186,:), 1, count);
  t.rdb_hdr_ddaover = read_short(chr2(187:188,:), 1, count);
  t.rdb_hdr_sarr = read_short(chr2(189:190,:), 1, count);
  t.rdb_hdr_fd_tr = read_short(chr2(191:192,:), 1, count);
  t.rdb_hdr_fd_te = read_short(chr2(193:194,:), 1, count);
  t.rdb_hdr_fd_ctrl = read_short(chr2(195:196,:), 1, count);
  t.rdb_hdr_algor_num = read_short(chr2(197:198,:), 1, count);
  t.rdb_hdr_fd_df_dec = read_short(chr2(199:200,:), 1, count);
  t.rdb_hdr_dab = read_RDB_MULTI_RCV_TYPE(chr2(201:216,:), 1, count*4);
  t.rdb_hdr_user0 = read_float(chr2(217:220,:), 1, count);
  t.rdb_hdr_user1 = read_float(chr2(221:224,:), 1, count);
  t.rdb_hdr_user2 = read_float(chr2(225:228,:), 1, count);
  t.rdb_hdr_user3 = read_float(chr2(229:232,:), 1, count);
  t.rdb_hdr_user4 = read_float(chr2(233:236,:), 1, count);
  t.rdb_hdr_user5 = read_float(chr2(237:240,:), 1, count);
  t.rdb_hdr_user6 = read_float(chr2(241:244,:), 1, count);
  t.rdb_hdr_user7 = read_float(chr2(245:248,:), 1, count);
  t.rdb_hdr_user8 = read_float(chr2(249:252,:), 1, count);
  t.rdb_hdr_user9 = read_float(chr2(253:256,:), 1, count);
  t.rdb_hdr_user10 = read_float(chr2(257:260,:), 1, count);
  t.rdb_hdr_user11 = read_float(chr2(261:264,:), 1, count);
  t.rdb_hdr_user12 = read_float(chr2(265:268,:), 1, count);
  t.rdb_hdr_user13 = read_float(chr2(269:272,:), 1, count);
  t.rdb_hdr_user14 = read_float(chr2(273:276,:), 1, count);
  t.rdb_hdr_user15 = read_float(chr2(277:280,:), 1, count);
  t.rdb_hdr_user16 = read_float(chr2(281:284,:), 1, count);
  t.rdb_hdr_user17 = read_float(chr2(285:288,:), 1, count);
  t.rdb_hdr_user18 = read_float(chr2(289:292,:), 1, count);
  t.rdb_hdr_user19 = read_float(chr2(293:296,:), 1, count);
  t.rdb_hdr_v_type = read_long(chr2(297:300,:), 1, count);
  t.rdb_hdr_v_coefxa = read_float(chr2(301:304,:), 1, count);
  t.rdb_hdr_v_coefxb = read_float(chr2(305:308,:), 1, count);
  t.rdb_hdr_v_coefxc = read_float(chr2(309:312,:), 1, count);
  t.rdb_hdr_v_coefxd = read_float(chr2(313:316,:), 1, count);
  t.rdb_hdr_v_coefya = read_float(chr2(317:320,:), 1, count);
  t.rdb_hdr_v_coefyb = read_float(chr2(321:324,:), 1, count);
  t.rdb_hdr_v_coefyc = read_float(chr2(325:328,:), 1, count);
  t.rdb_hdr_v_coefyd = read_float(chr2(329:332,:), 1, count);
  t.rdb_hdr_v_coefza = read_float(chr2(333:336,:), 1, count);
  t.rdb_hdr_v_coefzb = read_float(chr2(337:340,:), 1, count);
  t.rdb_hdr_v_coefzc = read_float(chr2(341:344,:), 1, count);
  t.rdb_hdr_v_coefzd = read_float(chr2(345:348,:), 1, count);
  t.rdb_hdr_vm_coef1 = read_float(chr2(349:352,:), 1, count);
  t.rdb_hdr_vm_coef2 = read_float(chr2(353:356,:), 1, count);
  t.rdb_hdr_vm_coef3 = read_float(chr2(357:360,:), 1, count);
  t.rdb_hdr_vm_coef4 = read_float(chr2(361:364,:), 1, count);
  t.rdb_hdr_v_venc = read_float(chr2(365:368,:), 1, count);
  t.spectral_width = read_float(chr2(369:372,:), 1, count);
  t.csi_dims = read_short(chr2(373:374,:), 1, count);
  t.xcsi = read_short(chr2(375:376,:), 1, count);
  t.ycsi = read_short(chr2(377:378,:), 1, count);
  t.zcsi = read_short(chr2(379:380,:), 1, count);
  t.roilenx = read_float(chr2(381:384,:), 1, count);
  t.roileny = read_float(chr2(385:388,:), 1, count);
  t.roilenz = read_float(chr2(389:392,:), 1, count);
  t.roilocx = read_float(chr2(393:396,:), 1, count);
  t.roilocy = read_float(chr2(397:400,:), 1, count);
  t.roilocz = read_float(chr2(401:404,:), 1, count);
  t.numdwell = read_float(chr2(405:408,:), 1, count);
  t.rdb_hdr_ps_command = read_long(chr2(409:412,:), 1, count);
  t.rdb_hdr_ps_mps_r1 = read_long(chr2(413:416,:), 1, count);
  t.rdb_hdr_ps_mps_r2 = read_long(chr2(417:420,:), 1, count);
  t.rdb_hdr_ps_mps_tg = read_long(chr2(421:424,:), 1, count);
  t.rdb_hdr_ps_mps_freq = read_long(chr2(425:428,:), 1, count);
  t.rdb_hdr_ps_aps_r1 = read_long(chr2(429:432,:), 1, count);
  t.rdb_hdr_ps_aps_r2 = read_long(chr2(433:436,:), 1, count);
  t.rdb_hdr_ps_aps_tg = read_long(chr2(437:440,:), 1, count);
  t.rdb_hdr_ps_aps_freq = read_long(chr2(441:444,:), 1, count);
  t.rdb_hdr_ps_scalei = read_float(chr2(445:448,:), 1, count);
  t.rdb_hdr_ps_scaleq = read_float(chr2(449:452,:), 1, count);
  t.rdb_hdr_ps_snr_warning = read_long(chr2(453:456,:), 1, count);
  t.rdb_hdr_ps_aps_or_mps = read_long(chr2(457:460,:), 1, count);
  t.rdb_hdr_ps_mps_bitmap = read_long(chr2(461:464,:), 1, count);
  t.rdb_hdr_ps_powerspec = read_char(chr2(465:720,:), 1, count*256);
  t.rdb_hdr_ps_filler1 = read_long(chr2(721:724,:), 1, count);
  t.rdb_hdr_ps_filler2 = read_long(chr2(725:728,:), 1, count);
  t.obsolete1 = read_float(chr2(729:792,:), 1, count*16);
  t.obsolete2 = read_float(chr2(793:856,:), 1, count*16);
  t.halfecho = read_short(chr2(857:858,:), 1, count);
  t.rdb_hdr_im_size_y = read_short(chr2(859:860,:), 1, count);
  t.rdb_hdr_data_collect_type1 = read_long(chr2(861:864,:), 1, count);
  t.rdb_hdr_freq_scale = read_float(chr2(865:868,:), 1, count);
  t.rdb_hdr_phase_scale = read_float(chr2(869:872,:), 1, count);
  t.rdb_hdr_ovl = read_short(chr2(873:874,:), 1, count);
  t.rdb_hdr_pclin = read_short(chr2(875:876,:), 1, count);
  t.rdb_hdr_pclinnpts = read_short(chr2(877:878,:), 1, count);
  t.rdb_hdr_pclinorder = read_short(chr2(879:880,:), 1, count);
  t.rdb_hdr_pclinavg = read_short(chr2(881:882,:), 1, count);
  t.rdb_hdr_pccon = read_short(chr2(883:884,:), 1, count);
  t.rdb_hdr_pcconnpts = read_short(chr2(885:886,:), 1, count);
  t.rdb_hdr_pcconorder = read_short(chr2(887:888,:), 1, count);
  t.rdb_hdr_pcextcorr = read_short(chr2(889:890,:), 1, count);
  t.rdb_hdr_pcgraph = read_short(chr2(891:892,:), 1, count);
  t.rdb_hdr_pcileave = read_short(chr2(893:894,:), 1, count);
  t.rdb_hdr_hdbestky = read_short(chr2(895:896,:), 1, count);
  t.rdb_hdr_pcctrl = read_short(chr2(897:898,:), 1, count);
  t.rdb_hdr_pcthrespts = read_short(chr2(899:900,:), 1, count);
  t.rdb_hdr_pcdiscbeg = read_short(chr2(901:902,:), 1, count);
  t.rdb_hdr_pcdiscmid = read_short(chr2(903:904,:), 1, count);
  t.rdb_hdr_pcdiscend = read_short(chr2(905:906,:), 1, count);
  t.rdb_hdr_pcthrespct = read_short(chr2(907:908,:), 1, count);
  t.rdb_hdr_pcspacial = read_short(chr2(909:910,:), 1, count);
  t.rdb_hdr_pctemporal = read_short(chr2(911:912,:), 1, count);
  t.rdb_hdr_pcspare = read_short(chr2(913:914,:), 1, count);
  t.rdb_hdr_ileaves = read_short(chr2(915:916,:), 1, count);
  t.rdb_hdr_kydir = read_short(chr2(917:918,:), 1, count);
  t.rdb_hdr_alt = read_short(chr2(919:920,:), 1, count);
  t.rdb_hdr_reps = read_short(chr2(921:922,:), 1, count);
  t.rdb_hdr_ref = read_short(chr2(923:924,:), 1, count);
  t.rdb_hdr_pcconnorm = read_float(chr2(925:928,:), 1, count);
  t.rdb_hdr_pcconfitwt = read_float(chr2(929:932,:), 1, count);
  t.rdb_hdr_pclinnorm = read_float(chr2(933:936,:), 1, count);
  t.rdb_hdr_pclinfitwt = read_float(chr2(937:940,:), 1, count);
  t.rdb_hdr_pcbestky = read_float(chr2(941:944,:), 1, count);
  t.rdb_hdr_vrgf = read_long(chr2(945:948,:), 1, count);
  t.rdb_hdr_vrgfxres = read_long(chr2(949:952,:), 1, count);
  t.rdb_hdr_bp_corr = read_long(chr2(953:956,:), 1, count);
  t.rdb_hdr_recv_freq_s = read_float(chr2(957:960,:), 1, count);
  t.rdb_hdr_recv_freq_e = read_float(chr2(961:964,:), 1, count);
  t.rdb_hdr_hniter = read_long(chr2(965:968,:), 1, count);
  t.rdb_hdr_fast_rec = read_long(chr2(969:972,:), 1, count);
  t.rdb_hdr_refframes = read_long(chr2(973:976,:), 1, count);
  t.rdb_hdr_refframep = read_long(chr2(977:980,:), 1, count);
  t.rdb_hdr_scnframe = read_long(chr2(981:984,:), 1, count);
  t.rdb_hdr_pasframe = read_long(chr2(985:988,:), 1, count);
  t.rdb_hdr_user_usage_tag = read_unsigned_long(chr2(989:992,:), 1, count);
  t.rdb_hdr_user_fill_mapMSW = read_unsigned_long(chr2(993:996,:), 1, count);
  t.rdb_hdr_user_fill_mapLSW = read_unsigned_long(chr2(997:1000,:), 1, count);
  t.rdb_hdr_user20 = read_float(chr2(1001:1004,:), 1, count);
  t.rdb_hdr_user21 = read_float(chr2(1005:1008,:), 1, count);
  t.rdb_hdr_user22 = read_float(chr2(1009:1012,:), 1, count);
  t.rdb_hdr_user23 = read_float(chr2(1013:1016,:), 1, count);
  t.rdb_hdr_user24 = read_float(chr2(1017:1020,:), 1, count);
  t.rdb_hdr_user25 = read_float(chr2(1021:1024,:), 1, count);
  t.rdb_hdr_user26 = read_float(chr2(1025:1028,:), 1, count);
  t.rdb_hdr_user27 = read_float(chr2(1029:1032,:), 1, count);
  t.rdb_hdr_user28 = read_float(chr2(1033:1036,:), 1, count);
  t.rdb_hdr_user29 = read_float(chr2(1037:1040,:), 1, count);
  t.rdb_hdr_user30 = read_float(chr2(1041:1044,:), 1, count);
  t.rdb_hdr_user31 = read_float(chr2(1045:1048,:), 1, count);
  t.rdb_hdr_user32 = read_float(chr2(1049:1052,:), 1, count);
  t.rdb_hdr_user33 = read_float(chr2(1053:1056,:), 1, count);
  t.rdb_hdr_user34 = read_float(chr2(1057:1060,:), 1, count);
  t.rdb_hdr_user35 = read_float(chr2(1061:1064,:), 1, count);
  t.rdb_hdr_user36 = read_float(chr2(1065:1068,:), 1, count);
  t.rdb_hdr_user37 = read_float(chr2(1069:1072,:), 1, count);
  t.rdb_hdr_user38 = read_float(chr2(1073:1076,:), 1, count);
  t.rdb_hdr_user39 = read_float(chr2(1077:1080,:), 1, count);
  t.rdb_hdr_user40 = read_float(chr2(1081:1084,:), 1, count);
  t.rdb_hdr_user41 = read_float(chr2(1085:1088,:), 1, count);
  t.rdb_hdr_user42 = read_float(chr2(1089:1092,:), 1, count);
  t.rdb_hdr_user43 = read_float(chr2(1093:1096,:), 1, count);
  t.rdb_hdr_user44 = read_float(chr2(1097:1100,:), 1, count);
  t.rdb_hdr_user45 = read_float(chr2(1101:1104,:), 1, count);
  t.rdb_hdr_user46 = read_float(chr2(1105:1108,:), 1, count);
  t.rdb_hdr_user47 = read_float(chr2(1109:1112,:), 1, count);
  t.rdb_hdr_user48 = read_float(chr2(1113:1116,:), 1, count);
  t.rdb_hdr_pcfitorig = read_short(chr2(1117:1118,:), 1, count);
  t.rdb_hdr_pcshotfirst = read_short(chr2(1119:1120,:), 1, count);
  t.rdb_hdr_pcshotlast = read_short(chr2(1121:1122,:), 1, count);
  t.rdb_hdr_pcmultegrp = read_short(chr2(1123:1124,:), 1, count);
  t.rdb_hdr_pclinfix = read_short(chr2(1125:1126,:), 1, count);
  t.rdb_hdr_pcconfix = read_short(chr2(1127:1128,:), 1, count);
  t.rdb_hdr_pclinslope = read_float(chr2(1129:1132,:), 1, count);
  t.rdb_hdr_pcconslope = read_float(chr2(1133:1136,:), 1, count);
  t.rdb_hdr_pccoil = read_short(chr2(1137:1138,:), 1, count);
  t.rdb_hdr_vvsmode = read_short(chr2(1139:1140,:), 1, count);
  t.rdb_hdr_vvsaimgs = read_short(chr2(1141:1142,:), 1, count);
  t.rdb_hdr_vvstr = read_short(chr2(1143:1144,:), 1, count);
  t.rdb_hdr_vvsgender = read_short(chr2(1145:1146,:), 1, count);
  t.rdb_hdr_zip_factor = read_short(chr2(1147:1148,:), 1, count);
  t.rdb_hdr_maxcoef1a = read_float(chr2(1149:1152,:), 1, count);
  t.rdb_hdr_maxcoef1b = read_float(chr2(1153:1156,:), 1, count);
  t.rdb_hdr_maxcoef1c = read_float(chr2(1157:1160,:), 1, count);
  t.rdb_hdr_maxcoef1d = read_float(chr2(1161:1164,:), 1, count);
  t.rdb_hdr_maxcoef2a = read_float(chr2(1165:1168,:), 1, count);
  t.rdb_hdr_maxcoef2b = read_float(chr2(1169:1172,:), 1, count);
  t.rdb_hdr_maxcoef2c = read_float(chr2(1173:1176,:), 1, count);
  t.rdb_hdr_maxcoef2d = read_float(chr2(1177:1180,:), 1, count);
  t.rdb_hdr_maxcoef3a = read_float(chr2(1181:1184,:), 1, count);
  t.rdb_hdr_maxcoef3b = read_float(chr2(1185:1188,:), 1, count);
  t.rdb_hdr_maxcoef3c = read_float(chr2(1189:1192,:), 1, count);
  t.rdb_hdr_maxcoef3d = read_float(chr2(1193:1196,:), 1, count);
  t.rdb_hdr_ut_ctrl = read_long(chr2(1197:1200,:), 1, count);
  t.rdb_hdr_dp_type = read_short(chr2(1201:1202,:), 1, count);
  t.rdb_hdr_arw = read_short(chr2(1203:1204,:), 1, count);
  t.rdb_hdr_vps = read_short(chr2(1205:1206,:), 1, count);
  t.rdb_hdr_mcReconEnable = read_short(chr2(1207:1208,:), 1, count);
  t.rdb_hdr_fov = read_float(chr2(1209:1212,:), 1, count);
  t.rdb_hdr_te = read_long(chr2(1213:1216,:), 1, count);
  t.rdb_hdr_te2 = read_long(chr2(1217:1220,:), 1, count);
  t.rdb_hdr_dfmrbw = read_float(chr2(1221:1224,:), 1, count);
  t.rdb_hdr_dfmctrl = read_long(chr2(1225:1228,:), 1, count);
  t.rdb_hdr_raw_nex = read_long(chr2(1229:1232,:), 1, count);
  t.rdb_hdr_navs_per_pass = read_long(chr2(1233:1236,:), 1, count);
  t.rdb_hdr_dfmxres = read_long(chr2(1237:1240,:), 1, count);
  t.rdb_hdr_dfmptsize = read_long(chr2(1241:1244,:), 1, count);
  t.rdb_hdr_navs_per_view = read_long(chr2(1245:1248,:), 1, count);
  t.rdb_hdr_dfmdebug = read_long(chr2(1249:1252,:), 1, count);
  t.rdb_hdr_dfmthreshold = read_float(chr2(1253:1256,:), 1, count);
  t.rdb_hdr_grid_control = read_short(chr2(1257:1258,:), 1, count);
  t.rdb_hdr_b0map = read_short(chr2(1259:1260,:), 1, count);
  t.rdb_hdr_grid_tediff = read_short(chr2(1261:1262,:), 1, count);
  t.rdb_hdr_grid_motion_comp = read_short(chr2(1263:1264,:), 1, count);
  t.rdb_hdr_grid_radius_a = read_float(chr2(1265:1268,:), 1, count);
  t.rdb_hdr_grid_radius_b = read_float(chr2(1269:1272,:), 1, count);
  t.rdb_hdr_grid_max_gradient = read_float(chr2(1273:1276,:), 1, count);
  t.rdb_hdr_grid_max_slew = read_float(chr2(1277:1280,:), 1, count);
  t.rdb_hdr_grid_scan_fov = read_float(chr2(1281:1284,:), 1, count);
  t.rdb_hdr_grid_a2d_time = read_float(chr2(1285:1288,:), 1, count);
  t.rdb_hdr_grid_density_factor = read_float(chr2(1289:1292,:), 1, count);
  t.rdb_hdr_grid_display_fov = read_float(chr2(1293:1296,:), 1, count);
  t.rdb_hdr_fatwater = read_short(chr2(1297:1298,:), 1, count);
  t.rdb_hdr_fiestamlf = read_short(chr2(1299:1300,:), 1, count);
  t.rdb_hdr_app = read_short(chr2(1301:1302,:), 1, count);
  t.rdb_hdr_rhncoilsel = read_short(chr2(1303:1304,:), 1, count);
  t.rdb_hdr_rhncoillimit = read_short(chr2(1305:1306,:), 1, count);
  t.rdb_hdr_app_option = read_short(chr2(1307:1308,:), 1, count);
  t.rdb_hdr_grad_mode = read_short(chr2(1309:1310,:), 1, count);
  t.rdb_hdr_pfile_passes = read_short(chr2(1311:1312,:), 1, count);
  t.rdb_hdr_asset = read_int(chr2(1313:1316,:), 1, count);
  t.rdb_hdr_asset_calthresh = read_int(chr2(1317:1320,:), 1, count);
  t.rdb_hdr_asset_R = read_float(chr2(1321:1324,:), 1, count);
  t.rdb_hdr_coilno = read_int(chr2(1325:1328,:), 1, count);
  t.rdb_hdr_asset_phases = read_int(chr2(1329:1332,:), 1, count);
  t.rdb_hdr_scancent = read_float(chr2(1333:1336,:), 1, count);
  t.rdb_hdr_position = read_int(chr2(1337:1340,:), 1, count);
  t.rdb_hdr_entry = read_int(chr2(1341:1344,:), 1, count);
  t.rdb_hdr_lmhor = read_float(chr2(1345:1348,:), 1, count);
  t.rdb_hdr_last_slice_num = read_int(chr2(1349:1352,:), 1, count);
  t.rdb_hdr_asset_slice_R = read_float(chr2(1353:1356,:), 1, count);
  t.rdb_hdr_asset_slabwrap = read_float(chr2(1357:1360,:), 1, count);
  t.rdb_hdr_dwnav_coeff = read_float(chr2(1361:1364,:), 1, count);
  t.rdb_hdr_dwnav_cor = read_short(chr2(1365:1366,:), 1, count);
  t.rdb_hdr_dwnav_view = read_short(chr2(1367:1368,:), 1, count);
  t.rdb_hdr_dwnav_corecho = read_short(chr2(1369:1370,:), 1, count);
  t.rdb_hdr_dwnav_sview = read_short(chr2(1371:1372,:), 1, count);
  t.rdb_hdr_dwnav_eview = read_short(chr2(1373:1374,:), 1, count);
  t.rdb_hdr_dwnav_sshot = read_short(chr2(1375:1376,:), 1, count);
  t.rdb_hdr_dwnav_eshot = read_short(chr2(1377:1378,:), 1, count);
  t.rdb_hdr_3dwin_type = read_short(chr2(1379:1380,:), 1, count);
  t.rdb_hdr_3dwin_apod = read_float(chr2(1381:1384,:), 1, count);
  t.rdb_hdr_3dwin_q = read_float(chr2(1385:1388,:), 1, count);
  t.rdb_hdr_ime_scic_enable = read_short(chr2(1389:1390,:), 1, count);
  t.rdb_hdr_clariview_type = read_short(chr2(1391:1392,:), 1, count);
  t.rdb_hdr_ime_scic_edge = read_float(chr2(1393:1396,:), 1, count);
  t.rdb_hdr_ime_scic_smooth = read_float(chr2(1397:1400,:), 1, count);
  t.rdb_hdr_ime_scic_focus = read_float(chr2(1401:1404,:), 1, count);
  t.rdb_hdr_clariview_edge = read_float(chr2(1405:1408,:), 1, count);
  t.rdb_hdr_clariview_smooth = read_float(chr2(1409:1412,:), 1, count);
  t.rdb_hdr_clariview_focus = read_float(chr2(1413:1416,:), 1, count);
  t.rdb_hdr_scic_reduction = read_float(chr2(1417:1420,:), 1, count);
  t.rdb_hdr_scic_gauss = read_float(chr2(1421:1424,:), 1, count);
  t.rdb_hdr_scic_threshold = read_float(chr2(1425:1428,:), 1, count);
  t.rdb_hdr_ectricks_no_regions = read_long(chr2(1429:1432,:), 1, count);
  t.rdb_hdr_ectricks_input_regions = read_long(chr2(1433:1436,:), 1, count);
  t.rdb_hdr_psc_reuse = read_short(chr2(1437:1438,:), 1, count);
  t.rdb_hdr_left_blank = read_short(chr2(1439:1440,:), 1, count);
  t.rdb_hdr_right_blank = read_short(chr2(1441:1442,:), 1, count);
  t.rdb_hdr_acquire_type = read_short(chr2(1443:1444,:), 1, count);
  t.rdb_hdr_retro_control = read_short(chr2(1445:1446,:), 1, count);
  t.rdb_hdr_etl = read_short(chr2(1447:1448,:), 1, count);
  t.rdb_hdr_pcref_start = read_short(chr2(1449:1450,:), 1, count);
  t.rdb_hdr_pcref_stop = read_short(chr2(1451:1452,:), 1, count);
  t.rdb_hdr_ref_skip = read_short(chr2(1453:1454,:), 1, count);
  t.rdb_hdr_extra_frames_top = read_short(chr2(1455:1456,:), 1, count);
  t.rdb_hdr_extra_frames_bot = read_short(chr2(1457:1458,:), 1, count);
  t.rdb_hdr_multiphase_type = read_short(chr2(1459:1460,:), 1, count);
  t.rdb_hdr_nphases = read_short(chr2(1461:1462,:), 1, count);
  t.rdb_hdr_pure = read_short(chr2(1463:1464,:), 1, count);
  t.rdb_hdr_pure_scale = read_float(chr2(1465:1468,:), 1, count);
  t.rdb_hdr_off_data = read_int(chr2(1469:1472,:), 1, count);
  t.rdb_hdr_off_per_pass = read_int(chr2(1473:1476,:), 1, count);
  t.rdb_hdr_off_unlock_raw = read_int(chr2(1477:1480,:), 1, count);
  t.rdb_hdr_off_data_acq_tab = read_int(chr2(1481:1484,:), 1, count);
  t.rdb_hdr_off_nex_tab = read_int(chr2(1485:1488,:), 1, count);
  t.rdb_hdr_off_nex_abort_tab = read_int(chr2(1489:1492,:), 1, count);
  t.rdb_hdr_off_tool = read_int(chr2(1493:1496,:), 1, count);
  t.rdb_hdr_off_exam = read_int(chr2(1497:1500,:), 1, count);
  t.rdb_hdr_off_series = read_int(chr2(1501:1504,:), 1, count);
  t.rdb_hdr_off_image = read_int(chr2(1505:1508,:), 1, count);
  t.rdb_hdr_off_ps = read_int(chr2(1509:1512,:), 1, count);
  t.rdb_hdr_off_spare_b = read_int(chr2(1513:1516,:), 1, count);
  t.rdb_hdr_new_wnd_level_flag = read_int(chr2(1517:1520,:), 1, count);
  t.rdb_hdr_wnd_image_hist_area = read_int(chr2(1521:1524,:), 1, count);
  t.rdb_hdr_wnd_high_hist = read_float(chr2(1525:1528,:), 1, count);
  t.rdb_hdr_wnd_lower_hist = read_float(chr2(1529:1532,:), 1, count);
  t.rdb_hdr_pure_filter = read_short(chr2(1533:1534,:), 1, count);
  t.rdb_hdr_cfg_pure_filter = read_short(chr2(1535:1536,:), 1, count);
  t.rdb_hdr_cfg_pure_fit_order = read_short(chr2(1537:1538,:), 1, count);
  t.rdb_hdr_cfg_pure_kernelsize_z = read_short(chr2(1539:1540,:), 1, count);
  t.rdb_hdr_cfg_pure_kernelsize_xy = read_short(chr2(1541:1542,:), 1, count);
  t.rdb_hdr_cfg_pure_weight_radius = read_short(chr2(1543:1544,:), 1, count);
  t.rdb_hdr_cfg_pure_intensity_scale = read_short(chr2(1545:1546,:), 1, count);
  t.rdb_hdr_cfg_pure_noise_threshold = read_short(chr2(1547:1548,:), 1, count);
  t.rdb_hdr_wienera = read_float(chr2(1549:1552,:), 1, count);
  t.rdb_hdr_wienerb = read_float(chr2(1553:1556,:), 1, count);
  t.rdb_hdr_wienert2 = read_float(chr2(1557:1560,:), 1, count);
  t.rdb_hdr_wieneresp = read_float(chr2(1561:1564,:), 1, count);
  t.rdb_hdr_wiener = read_short(chr2(1565:1566,:), 1, count);
  t.rdb_hdr_flipfilter = read_short(chr2(1567:1568,:), 1, count);
  t.rdb_hdr_dbgrecon = read_short(chr2(1569:1570,:), 1, count);
  t.rdb_hdr_ech2skip = read_short(chr2(1571:1572,:), 1, count);
  t.rdb_hdr_tricks_type = read_int(chr2(1573:1576,:), 1, count);
  t.rdb_hdr_lcfiesta_phase = read_float(chr2(1577:1580,:), 1, count);
  t.rdb_hdr_lcfiesta = read_short(chr2(1581:1582,:), 1, count);
  t.rdb_hdr_herawflt = read_short(chr2(1583:1584,:), 1, count);
  t.rdb_hdr_herawflt_befnwin = read_short(chr2(1585:1586,:), 1, count);
  t.rdb_hdr_herawflt_befntran = read_short(chr2(1587:1588,:), 1, count);
  t.rdb_hdr_herawflt_befamp = read_float(chr2(1589:1592,:), 1, count);
  t.rdb_hdr_herawflt_hpfamp = read_float(chr2(1593:1596,:), 1, count);
  t.rdb_hdr_heover = read_short(chr2(1597:1598,:), 1, count);
  t.rdb_hdr_pure_correction_threshold = read_short(chr2(1599:1600,:), 1, count);
  t.rdb_hdr_swiftenable = read_int(chr2(1601:1604,:), 1, count);
  t.rdb_hdr_numslabs = read_short(chr2(1605:1606,:), 1, count);
  t.rdb_hdr_swiftcoilnos = read_unsigned_short_int(chr2(1607:1608,:), 1, count);
  t.rdb_hdr_ps_autoshim_status = read_int(chr2(1609:1612,:), 1, count);
  t.rdb_hdr_dynaplan_numphases = read_int(chr2(1613:1616,:), 1, count);
  t.rdb_hdr_medal_cfg = read_short(chr2(1617:1618,:), 1, count);
  t.rdb_hdr_medal_nstack = read_short(chr2(1619:1620,:), 1, count);
  t.rdb_hdr_medal_echo_order = read_short(chr2(1621:1622,:), 1, count);
  t.rdb_hdr_medal_kernel_up = read_short(chr2(1623:1624,:), 1, count);
  t.rdb_hdr_medal_kernel_down = read_short(chr2(1625:1626,:), 1, count);
  t.rdb_hdr_medal_kernel_smooth = read_short(chr2(1627:1628,:), 1, count);
  t.rdb_hdr_medal_start = read_short(chr2(1629:1630,:), 1, count);
  t.rdb_hdr_medal_end = read_short(chr2(1631:1632,:), 1, count);
  t.rdb_hdr_rcideal = read_unsigned_int(chr2(1633:1636,:), 1, count);
  t.rdb_hdr_rcdixproc = read_unsigned_int(chr2(1637:1640,:), 1, count);
  t.rdb_hdr_df = read_float(chr2(1641:1644,:), 1, count);
  t.rdb_hdr_bw = read_float(chr2(1645:1648,:), 1, count);
  t.rdb_hdr_te1 = read_float(chr2(1649:1652,:), 1, count);
  t.rdb_hdr_esp = read_float(chr2(1653:1656,:), 1, count);
  t.rdb_hdr_feextra = read_int(chr2(1657:1660,:), 1, count);
  t.rdb_hdr_vibrant = read_short(chr2(1661:1662,:), 1, count);
  t.rdb_hdr_asset_torso = read_short(chr2(1663:1664,:), 1, count);
  t.rdb_hdr_asset_alt_cal = read_int(chr2(1665:1668,:), 1, count);
  t.rdb_hdr_kacq_uid = read_int(chr2(1669:1672,:), 1, count);
  t.rdb_hdr_asset_localTx = read_int(chr2(1673:1676,:), 1, count);
  t.rdb_hdr_3dscale = read_float(chr2(1677:1680,:), 1, count);
  t.rdb_hdr_scanner_mode = read_short(chr2(1681:1682,:), 1, count);
  t.short_padding_1 = read_short(chr2(1683:1684,:), 1, count);
  t.rdb_hdr_excess = read_short(chr2(1685:2048,:), 1, count*182);

function [t, outpos] = read_VME_ADDRESS(chr, inpos, count)
  outpos = inpos + 8 * count;
  chr2=reshape(chr(inpos:inpos+count*8-1), 8, []);
  t.bam_modifier = read_long(chr2(1:4,:), 1, count);
  t.bam_address = read_long(chr2(5:8,:), 1, count);

function [t, outpos] = read_RDB_PASS_INFO_ENTRY(chr, inpos, count)
  outpos = inpos + 8 * count;
  chr2=reshape(chr(inpos:inpos+count*8-1), 8, []);
  t.dab_bam = read_VME_ADDRESS(chr2(1:8,:), 1, count*1);

function [t, outpos] = read_RDB_PER_PASS_TAB(chr, inpos, count)
  [t, outpos] = read_RDB_PASS_INFO_ENTRY(chr, inpos, count*((2048)));

function [t, outpos] = read_RDB_UNLOCK_RAW_TAB(chr, inpos, count)
  [t, outpos] = read_RDB_PASS_INFO_ENTRY(chr, inpos, count*((2048)));

function [t, outpos] = read_RDB_SLICE_INFO_ENTRY(chr, inpos, count)
  outpos = inpos + 48 * count;
  chr2=reshape(chr(inpos:inpos+count*48-1), 48, []);
  t.pass_number = read_short(chr2(1:2,:), 1, count);
  t.slice_in_pass = read_short(chr2(3:4,:), 1, count);
  t.gw_point1 = read_float(chr2(5:16,:), 1, count*3);
  t.gw_point2 = read_float(chr2(17:28,:), 1, count*3);
  t.gw_point3 = read_float(chr2(29:40,:), 1, count*3);
  t.transpose = read_short(chr2(41:42,:), 1, count);
  t.rotate = read_short(chr2(43:44,:), 1, count);
  t.swiftcoilno = read_unsigned_int(chr2(45:48,:), 1, count);

function [t, outpos] = read_RDB_DATA_ACQ_TAB(chr, inpos, count)
  [t, outpos] = read_RDB_SLICE_INFO_ENTRY(chr, inpos, count*(1 * (2048)));

function [t, outpos] = read_RDB_GAIN_ENTRY(chr, inpos, count)
  outpos = inpos + 12 * count;
  chr2=reshape(chr(inpos:inpos+count*12-1), 12, []);
  t.range = read_short(chr2(1:2,:), 1, count);
  t.gaini = read_float(chr2(5:8,:), 1, count);
  t.gainq = read_float(chr2(9:12,:), 1, count);

function [t, outpos] = read_RDB_GAIN_TAB(chr, inpos, count)
  [t, outpos] = read_RDB_GAIN_ENTRY(chr, inpos, count*(5));

function [t, outpos] = read_RDB_NEX_ENTRY(chr, inpos, count)
  [t, outpos] = read_short(chr, inpos, count);

function [t, outpos] = read_RDB_NEX_TAB(chr, inpos, count)
  [t, outpos] = read_RDB_NEX_ENTRY(chr, inpos, count*(1026));

function [t, outpos] = read_RDB_NEX_TYPE(chr, inpos, count)
  outpos = inpos + 2052 * count;
  chr2=reshape(chr(inpos:inpos+count*2052-1), 2052, []);
  t.rdb_hdr_nex_size = read_short_int(chr2(1:2052,:), 1, count*1026);

function [t, outpos] = read_RDBM_HEADER(chr, inpos, count)
  outpos = inpos + 137224 * count;
  chr2=reshape(chr(inpos:inpos+count*137224-1), 137224, []);
  t.rdb_hdr_rec = read_RDB_HEADER_REC(chr2(1:2048,:), 1, count);
  t.rdb_hdr_per_pass = read_RDB_PER_PASS_TAB(chr2(2049:18432,:), 1, count);
  t.rdb_hdr_unlock_raw = read_RDB_PER_PASS_TAB(chr2(18433:34816,:), 1, count);
  t.rdb_hdr_data_acq_tab = read_RDB_DATA_ACQ_TAB(chr2(34817:133120,:), 1, count);
  t.rdb_hdr_nex_tab = read_RDB_NEX_TYPE(chr2(133121:135172,:), 1, count);
  t.rdb_hdr_nex_abort_tab = read_RDB_NEX_TYPE(chr2(135173:137224,:), 1, count);

function [t, outpos] = read_IMAGE_HEADER(chr, inpos, count)
  outpos = inpos + 7184 * count;
  chr2=reshape(chr(inpos:inpos+count*7184-1), 7184, []);
  t.rdb_hdr_tool = read_TOOLSDATA(chr2(1:2048,:), 1, count);
  t.rdb_hdr_exam = read_EXAMDATATYPE(chr2(2049:3088,:), 1, count);
  t.rdb_hdr_series = read_SERIESDATATYPE(chr2(3089:5136,:), 1, count);
  t.rdb_hdr_image = read_MRIMAGEDATATYPE(chr2(5137:7184,:), 1, count);

function [t, outpos] = read_POOL_HEADER(chr, inpos, count)
  outpos = inpos + 145908 * count;
  chr2=reshape(chr(inpos:inpos+count*145908-1), 145908, []);
  t.rdb_hdr_rec = read_RDB_HEADER_REC(chr2(1:2048,:), 1, count);
  t.rdb_hdr_per_pass = read_RDB_PER_PASS_TAB(chr2(2049:18432,:), 1, count);
  t.rdb_hdr_unlock_raw = read_RDB_PER_PASS_TAB(chr2(18433:34816,:), 1, count);
  t.rdb_hdr_data_acq_tab = read_RDB_DATA_ACQ_TAB(chr2(34817:133120,:), 1, count);
  t.rdb_hdr_nex_tab = read_RDB_NEX_TYPE(chr2(133121:135172,:), 1, count);
  t.rdb_hdr_nex_abort_tab = read_RDB_NEX_TYPE(chr2(135173:137224,:), 1, count);
  t.rdb_hdr_tool = read_TOOLSDATA(chr2(137225:139272,:), 1, count);
  t.rdb_hdr_ps = read_PRESCAN_HEADER(chr2(139273:140772,:), 1, count);
  t.rdb_hdr_exam = read_EXAMDATATYPE(chr2(140773:141812,:), 1, count);
  t.rdb_hdr_series = read_SERIESDATATYPE(chr2(141813:143860,:), 1, count);
  t.rdb_hdr_image = read_MRIMAGEDATATYPE(chr2(143861:145908,:), 1, count);

function [t, outpos] = read_frame_node(chr, inpos, count)
  outpos = inpos + 20 * count;
  chr2=reshape(chr(inpos:inpos+count*20-1), 20, []);
  t.op_code = read_short(chr2(17:18,:), 1, count);
  t.index = read_short(chr2(19:20,:), 1, count);

function [t, outpos] = read_op_node(chr, inpos, count)
  outpos = inpos + 8 * count;
  chr2=reshape(chr(inpos:inpos+count*8-1), 8, []);
  t.frame_cnt = read_long(chr2(1:4,:), 1, count);

function [t, outpos] = read_view_node(chr, inpos, count)
  outpos = inpos + 36 * count;
  chr2=reshape(chr(inpos:inpos+count*36-1), 36, []);
  t.op_ptr = read_op_node(chr2(5:36,:), 1, count*4);

function [t, outpos] = read_echo_node(chr, inpos, count)
  outpos = inpos + 8 * count;
  chr2=reshape(chr(inpos:inpos+count*8-1), 8, []);

function [t, outpos] = read_RDB_IO_PACKET(chr, inpos, count)
  outpos = inpos + 384 * count;
  chr2=reshape(chr(inpos:inpos+count*384-1), 384, []);
  t.hdr_no = read_long(chr2(1:4,:), 1, count);
  t.fd = read_long(chr2(5:8,:), 1, count);
  t.bam_addr = read_VME_ADDRESS(chr2(9:16,:), 1, count);
  t.ssp_addr = read_VME_ADDRESS(chr2(17:24,:), 1, count);
  t.uda_addr = read_VME_ADDRESS(chr2(25:32,:), 1, count);
  t.data_len = read_long(chr2(33:36,:), 1, count);
  t.run_num = read_long(chr2(37:40,:), 1, count);
  t.rawsize = read_long(chr2(41:44,:), 1, count);
  t.sspsave = read_long(chr2(45:48,:), 1, count);
  t.udasave = read_long(chr2(49:52,:), 1, count);
  t.content = read_long(chr2(53:56,:), 1, count);
  t.col_type = read_long(chr2(57:60,:), 1, count);
  t.npasses = read_long(chr2(61:64,:), 1, count);
  t.nslices = read_long(chr2(65:68,:), 1, count);
  t.nechoes = read_long(chr2(69:72,:), 1, count);
  t.nframes = read_long(chr2(73:76,:), 1, count);
  t.nbaseline = read_long(chr2(77:80,:), 1, count);
  t.order = read_long(chr2(81:84,:), 1, count);
  t.xres = read_long(chr2(85:88,:), 1, count);
  t.yres = read_long(chr2(89:92,:), 1, count);
  t.point_size = read_long(chr2(93:96,:), 1, count);
  t.start_rcv = read_long(chr2(97:100,:), 1, count);
  t.stop_rcv = read_long(chr2(101:104,:), 1, count);
  t.rcv_no = read_long(chr2(105:108,:), 1, count);
  t.scan_date = read_char(chr2(117:132,:), 1, count*16);
  t.scan_time = read_char(chr2(133:148,:), 1, count*16);
  t.navs = read_long(chr2(149:152,:), 1, count);
  t.patname = read_char(chr2(153:216,:), 1, count*64);
  t.coil_name = read_char(chr2(217:248,:), 1, count*32);
  t.psd_name = read_char(chr2(249:280,:), 1, count*32);
  t.exam = read_long(chr2(281:284,:), 1, count);
  t.series = read_long(chr2(285:288,:), 1, count);
  t.image = read_long(chr2(289:292,:), 1, count);
  t.data_type = read_long(chr2(293:296,:), 1, count);
  t.coil_type = read_long(chr2(297:300,:), 1, count);
  t.dfov = read_float(chr2(301:304,:), 1, count);
  t.usercv = read_float(chr2(305:384,:), 1, count*20);

function [t, outpos] = read_RDB_TAPE_PACKET(chr, inpos, count)
  outpos = inpos + 16 * count;
  chr2=reshape(chr(inpos:inpos+count*16-1), 16, []);
  t.fd = read_long(chr2(1:4,:), 1, count);
  t.d_type = read_long(chr2(5:8,:), 1, count);
  t.offset = read_long(chr2(9:12,:), 1, count);

